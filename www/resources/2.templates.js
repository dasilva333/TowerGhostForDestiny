_.templates={},_.templates.aboutTemplate='<div>    <h2 style="margin-top:0;">Tower Ghost for Destiny        <br>Manage your gear anywhere</h2>    <p>        <strong>Version:            <span class="version">                <%= tgd.version %>            </span>        </strong>    </p>    <p>This is a hobby project by <a href="https://github.com/dasilva333/" target="_system">Richard Pinedo</a> and is not financed by or associated with Bungie. All information used on this app is the property of Bungie.</p>    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" style="margin:0; padding:0;">        <input type="hidden" name="cmd" value="_s-xclick">        <input type="hidden" name="hosted_button_id" value="5X265ELN4Y5FU">        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"> via Paypal to keep this project alive, other options available under the Donate page in Settings.        <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">    </form>    <h3>Current Features Supported:</h3>    <ul>        <li><a href="http://destinydb.com" target="_system">DestinyDB.com</a> tooltips option now display custom stats: perks, burn, level for armor and weapons</li>        <li>Loadouts sync across all devices via <a href="http://www.TowerGhostForDestiny.com" target="_system">www.TowerGhostForDestiny.com</a></li>        <li>Multiple primaries, special, heavy per loadout</li>        <li>Option to equip an item per bucket in your loadout</li>        <li>Equipping items & transferring items across characters</li>        <li>Specify amounts of consumables/materials to transfer</li>        <li>Filter by Perk Name, Description, Gun Name</li>        <li>Filter by item progress</li>        <li>Filter by burn (Kinetic, Arc, Solar, Void)</li>        <li>Filter by weapon type (Scout, Auto, Hand Cannon, etc...)</li>        <li>Filter by Tier (Exotic, Legendary, Rare, etc...)</li>        <li>Auto Refresh Toggle, Custom set seconds</li>        <li>Inline stat values on the item icons</li>        <li>Filter by Weapons, Armor or General items</li>        <li>Supports dual-linked accounts to Xbox and Playstation</li>        <li>Change emblem dynamically</li>        <li>Distribute consumables/materials equally across characters (normalize)</li>        <li>Move all of a consumable/material to a character (consolidate)</li>    </ul>    <h3>Latest News and Info</h3>    <a href="https://twitter.com/TowerGhostApp" target="_system">Follow me on Twitter @TowerGhostApp</a>    <h3>Support and New Issues:</h3>    <p><a href="https://github.com/dasilva333/TowerGhostForDestiny" target="_system">Github.com</a> or Contact me on via email <a href="mailto:support@towerghostfordestiny.com">support@towerghostfordestiny.com</a></p></div>',_.templates.armorTemplates='<p>Tip: The green border indicates the stats should remain unchanged, red border requires you to toggle the stats in game. </p><ul class="list-group">    <%_.each(builds, function(sets){ %>        <li class="list-group-item">			<%_.each(sets, function(build, index){ %>	            <div class="row" style="display:<%= index == 0 ? \'\' : \'none\' %>" id="<%= build.id + \'_\' + index %>">	                <div class="text-center col-xs-24 col-md-3">						<div class="col-xs-8 col-md-24">		                    <input class="armorBuild form-control" name="armorBuild" type="radio" value="<%= build.statTiers + \'_\' + index %>">						</div>						<div class="col-xs-4 col-md-12">							<button class="prevCombo" style="display:<%= index > 0 ? \'\' : \'none\' %>"><span class="fa fa-chevron-left text-primary"></span></button>						</div>						<div class="col-xs-4 col-md-12">							<button class="nextCombo" style="display:<%= index < (sets.length-1) ? \'\' : \'none\' %>"><span class="fa fa-chevron-right text-primary"></span></button>						</div>						<div class="col-xs-8 col-md-24">							<%= (index + 1) + \'/\' + sets.length %>						</div>	                </div>	                <div class="text-left col-xs-24 col-md-21">	                    <div class="col-xs-12">	                        <span class="font-bold">Light</span>	                        <span class="text-primary"><%= build.light %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Score</span>	                        <span class="text-primary <%= build.similarityScore >= 6 ? \'text-success\' : \'\' %>"><%= build.score.toFixed(3) %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Stat Tiers</span>	                        <span class="text-primary"><%= build.statTiers %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Stat Values</span>	                        <span class="text-primary"><%= build.statValues %></span>	                    </div>	                    <div class="col-xs-24">	                        <% _.each(_.sortBy(build.set,\'bucketType\').reverse(), function(item){	%>	                            <a class="itemLink" itemId="<%= item.id %>" instanceId="<%= item._id %>" href="<%= item.href %>">									<img class="itemImage" src="<%= item.icon %>" style="border:1px solid <%= item.isActiveRoll || (!(\'activeRoll\' in item)) ? \'green\':\'red\' %>">								</a>	                            <%}) %>	                    </div>						<div class="col-xs-24" style="margin-top: 5px">							<% _.each(build.perks, function(perk){	%>								<div class="col-xs-12 font-smaller-1">									<% if (!isMobile){	%>										<img width="24" src="<%= perk.iconPath %>" class="perkImage"> 										<span class="text-muted"><%= perk.bucketType %>:</span>									<%} %>									<span class="text-primary"><%= perk.name %></span>								</div>							<%}) %>	                    </div>	                </div>	            </div>			<%}) %>        </li>        <%}) %></ul>',_.templates.donateTemplate='<div id="donate">    <div class="panel panel-success">        <div class="panel-body">            <p data-bind="text: $root.activeText().donation_instructions">                This is a non-commercial project dedicated to Destiny. If you like this app provide a donation to keep this project alive and support the maintenance costs. Thank you.            </p>            <div class="btn-padding">                <div class="form-group">                    <a class="donatePaypal btn btn-secondary btn-block">                        <img src="assets/paypal.png">                    </a>                </div>                <div class="supportsIAB" style="display:none;">                    <div class="chromeWallet form-group text-center" style="display:none;">                        Donate now with Google Wallet                        <img src="assets/wallet.png" style="width:50%">                    </div>                    <div class="googlePlay form-group text-center" style="display:none;">                        Donate now with Google Play                        <img src="assets/google_play.png" style="width:50%">                    </div>                    <div class="appleIAP form-group text-center" style="display:none;">                        Donate now with Apple\'s In-App Purchase                        <img src="assets/in-app-purchase.png" width="80">                    </div>                    <hr>                    <div class="form-group">                        <a sku="small" class="donate btn btn-secondary btn-block">Small Donation</a>                    </div>                    <div class="form-group">                        <a sku="medium" class="donate btn btn-secondary btn-block">Medium Donation</a>                    </div>                    <div class="form-group">                        <a sku="large" class="donate btn btn-secondary btn-block">Large Donation</a>                    </div>                </div>            </div>        </div>    </div></div>',_.templates.farmhelpTemplate='<div class="help">	<p>		Farm Mode provides an easy way to automatically transfer incoming <i>Engrams, Rare and Uncommon items, and Glimmer Credit (Network Keys, Axiomatic Beads, House Banners, Silken Codex)</i> 		to the Vault as you play Strikes, Crucible or any activities where you earn this type of loot.		The idea is Farm Mode will keep the loot you earn in the Vault instead of the Post Master therefore being able to avoid getting full in the Post Master,		as well as the ability to easily transfer all your Engrams back to your characters easily.	</p>	<br>	<ol>		<li>First confirm you want Farm Mode to transfer the 4 item types by checking, unchecking the desired item types.</li>		<li>After click on the Play button and the status should change to <strong>"Farm Mode Enabled"</strong>.</li>		<li>Once enabled all selected item types will be automatically transferred to the Vault when your inventory refreshes automatically or manually.</li>		<li>To transfer your engrams, blues, greens, etc. back to your character first stop Farm Mode so it says <strong>"Farm Mode Disabled"</strong>.</li>		<li>Once Farm Mode is disabled you may click on the character icon to transfer the items to it.</li>		<li>Rinse and repeat, enable Farm Mode once again and continue playing activities while it collects your loot in the Vault</li>	</ol>		<p>Tip: You may lock a Rare, and Uncommon items to prevent them from getting transferred to the Vault.</p></div>',_.templates.helpTemplate='<div id="help" class="help">    <h2>Usage Guides</h2>    <ul>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irno8/feature_sharing_and_viewing_arsenal_online/">Sharing and Viewing Arsenal Online</a></li>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3inqkh/feature_transferring_items_with_tower_ghost/">Transferring Items</a></li>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irm1y/feature_transfer_methods_available_in_tower_ghost/">Transfer Methods Available</a></li>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3imt9m/feature_tower_ghost_for_destiny_tooltips/">Understanding the Tooltips</a></li>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irqst/feature_using_the_filters_quickly_and_effectively/">Using the filters quickly and effectively</a></li>        <li><a target="_system" href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3nlua1/feature_using_the_stats_tool_effectively/">Using the stats tool effectively</a></li>    </ul>    <h2>Definitions</h2>    <ul>        <li>            <h3>Account Options</h3>        </li>        <li>            <strong>Logout</strong> Logs you out of Bungie.net allowing you to view your arsenal with a different account.</li>        <li>            <strong>PSN Login</strong> Opens the login page for the Playstation Network sign in, useful if your password changed.</li>        <li>            <strong>Live Login</strong> Opens the login page for the Windows Live sign in, useful if your password changed.</li>        <li>            <strong>Use Xbox Account</strong> Only visible if two accounts linked to your Bungie.net account.</li>        <li>            <strong>Use Playstation Account</strong> Only visible if two accounts linked to your Bungie.net account.</li>        <li>            <h3>Other Options</h3>        </li>        <li>            <strong>Clear Filters</strong> Resets all the filters back to their default state.</li>        <li>            <strong>About</strong> Displays information about the app and the author.</li>        <li>            <strong>Donate</strong> Paypal link to support the cause and keep the project alive.</li>        <li>            <strong>Language</strong> Allows you to set the menu and items to other languages (items only available in certain languages)</li>        <li>            <h3>Web Options</h3>        </li>        <li>            <strong>Share URL with friends</strong> Provides a custom link with your gamer tag to be able to share your inventory with friends online.</li>        <li>            <strong>DestinyStatus Report</strong> Opens a new page that allows you to see the current progress of all your characters.</li>        <li>            <h3>UI Options</h3>        </li>        <li>            <strong>Auto Refresh</strong> Allows option for enable/disable and a refresh interval in seconds set by default to 5 minutes.</li>        <li>            <strong>DestinyDB Tooltips</strong> Allows for taps or hovers to enable the tooltip, if disabled double tap or double click enables the tooltip.</li>        <li>            <strong>Advanced Tooltips</strong> This option will display additional perks available which are not currently active on the armor or weapon piece.</li>        <li>            <strong>Auto Transfer Stacks</strong> When enabled you will not be prompted and the entire stack will be transferred (consumables, materials).</li>        <li>            <strong>Auto Pad Height</strong> When enabled the sections will automatically adjust height to align with each other.</li>        <li>            <strong>Drag and Drop</strong> When enabled you may drag and drop an item from one section to another, compatible with mobile and desktop.</li>        <li>            <strong>Farm Mode</strong> When enabled the app will look for all the Engrams, Network Keys, Axiomatic Beads, House Banners, Silken Codex and 				decrypted unlocked Rare and Uncommon items, it will then automatically transfer them to the vault, 				it will continue to do so after every refresh until disabled or until any of the 3 main sections (Weapons, General, Armor) become full.</li>		<li>            <strong>Auto Updates</strong> This option will ensure you always have the latest version of Tower Ghost, enable it to allow Tower Ghost to update itself when a new version is available.            <em>Note: If you are having problems with Auto Updates please try to disable and enable it again to clear the cache. thank you.</em>        </li>        <li>            <h3>Menu Options</h3>        </li>        <li>            <strong>View</strong> Toggle between different views first page is Weapons, second page is Armor, third page is General</li>        <li>            <strong>Tier</strong> Filter by the rarity of the item (rare, legendary, exotic) </li>        <li>            <strong>Set</strong> Preset collections from various activiies in Destiny for an easy to filter list </li>        <li>            <strong>Show Missing Items</strong> When a Set is enabled use this to show you what items you\'re missing from that set.</li>        <li>            <strong>Progress</strong>            <em>Missing Perks:</em> Items that do not have their perks completely filled.</li>        <li>            <strong>Progress</strong>            <em>Missing XP:</em> Items that have been completely filled with perks but are missing the gold border.</li>        <li>            <strong>Progress</strong>            <em>Maxed:</em> Items that have gold borders only.</li>        <li>            <strong>Damage</strong> Filter by burn type, kinetic is the default burn applied to all weapons if it\'s not arc, void or solar.</li>        <li>            <strong>Weapon</strong> Filter by type of weapon, this list will only show types you have in your inventory.</li>        <li>            <strong>Search Box</strong> Filter by the name of the item, or the name of the perk, or the description in the perk, even if the perk is not active. Also allows you to filter by light level, you may type 280 to find items only at light level 280, you may also use &gt;280 to find anything higher or &lt;280 for items below 280.</li>        <li>            <h3>Armor Options</h3>        </li>        <li>            <strong>Armor Type</strong> Filter by different armor types available such as helmet, chest and boots.</li>        <li>            <strong>Filter By Weapons Equipped</strong> Filter for armor such a gauntlets and boots that has matching perks to the weapons you have equipped.</li>        <li>            <strong>Filter By Subclass Equipped</strong> Filter for armor such a gauntlets and boots that has matching perks to the subclass you have equipped.</li>        <li>            <strong>View By Light Level</strong> Default View, displays the amount of light in an item in the corner stat.</li>        <li>            <strong>View By Combined Stat Points</strong> Displays the number of total skill points combined in the corner stat, so if a helmet has 50 int and 50 dis then it has 100 combined stat points..</li>        <li>            <h3>View Options</h3>        </li>        <li>            <strong>Container Width</strong>            This option allows you to control how wide you would like the overall container to be, the default option ensures proper padding on both sides for large displays, this option will not affect the layout for most mobile displays but will work for most tablet displays.</li>        <li>            <strong>Vault Mode</strong>            The default option ensures that the Vault column is always as wide as all the other columns, setting it to Custom allows you to make the Vault column wider, do note that this option will not affect mobile displays only tablets and desktops.</li>        <li>            <strong>Vault Width</strong>            This option is only available under "Custom" Vault Mode, setting this option will make the Vault column wider than the default 25%.</li>        <li>            <strong>Number of Columns</strong>            This option is only available under "Default" Vault Mode, this option works as a matrix of column modes depending on your display.            <br> Each row has a designated tag (xs,sm,md,lg) they are ordered from smallest display to largest so mobile displays use xs portrait and sm landscape. Desktop displays most likely use md or lg tag, each tag is dependent upon your resolution so 1 or 2 out of the 4 rows only apply to your device. Example: You have a mobile display that currently shows 1 column portrait (xs) and 2 columns landscape (sm) and you\'d like to change it to 1/3, what you do is set the second row (sm) to 3 so it\'ll display 1 | 3 | 3 | 4 instead of 1 | 2 | 3 | 4 buttons selected.        </li>        <li>            <strong>Vault Columns</strong>            This option allows you to choose how many columns of items you want to see for the Vault profile, the default is 4 with the option of fitting more icons per row as the number goes up.</li>        <li>            <strong>Vault Position</strong>            First/Left - The vault is displayed first on mobile, on the left side for wide displays. Last/Right - The vault is ordered last or on the right side for wide displays.</li>        <li>            <h3>Materials and Consumable Options</h3>        </li>        <li>            <strong>Normalize</strong> Equally distribute consumables/materials across selected characters.</li>        <li>            <strong>Consolidate</strong> Move all of a certain consumable/material to a character.</li>        <li>            <strong>Don\'t ask again</strong> Enables Auto Transfer Stacks in Settings bypassing the prompt every time.</li>        <li>            <h3>Character Options</h3> More information can be found under help Guides <i>Using the stats tool effectively</i></li>        <li>            <strong>Light</strong> Equip the armor and weapons with the most Light points from any character or vault.</li>        <li>            <strong>Skill (Int/Disc/Str)</strong> Optimize armor for Tier 5 for that skill, ensure skill doesn\'t go too much over 300 points, if so it will automatically reduce the skill to arond 300 and buff the other stats.</li>        <li>            <strong>Most Points</strong> Optimize armor for the set that contains the most combined stat points.</li>        <li>            <strong>Best Combo</strong> Optimize armor for the set that has the most combined tiers available, if multiple tiers available a prompt will ask you which armor build you\'d like to use.</li>    </ul></div>',_.templates.languagesTemplate='<div class="row button-group">    <% languages.forEach(function(language){ %>        <div class="col-xs-12 col-sm-8 col-md-8 col-lg-6 text-center">            <button class="btn-setLanguage btn btn-lg btn-default <%= language.code == locale ? \'btn-primary\' : \'\' %>" value="<%= language.code %>">                <%= language.description %>            </button>        </div>        <% }) %></div>',_.templates.normalizeTemplate='<div id="menu">    <div class="panel list-group">        <div class="list-group-item row">            <div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">                <p>Normalize: equally distribute                    <%= item.description %> across the selected characters</p>            </div>            <div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">                <p>Consolidate: Transfer all quantities of                    <%= item.description %> across the selected characters to this character.</p>            </div>        </div>        <div id="opt1" class="collapse in">            <div class="list-group-item row">                <div class="locations col-xs-24 col-sm-24 col-md-24 col-lg-24">                    <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">                        <div class="attkIcon">                            <!-- <div class="icon-banner"><%= item.description %></div> -->                            <img src="<%= item.icon %>">                            <div class="lower-left" id="total">                                <%= total %>                            </div>                        </div>                    </div>                    <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">                        <!-- padding -->                    </div>                    <% for (i = 0; i < characters.length; i++){ %>                        <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4" id="char<%= i %>">                            <div class="attkIcon">                                <div class="icon-banner">                                    <%= characters[i].classType() %>                                </div>                                <% if (selected[characters[i].id] == true){ %>                                    <img src="<%= characters[i].icon() %>" style="border:3px solid yellow" id="char<%= i %>img">                                    <% } else { %>                                        <img src="<%= characters[i].icon() %>" style="border:none" id="char<%= i %>img">                                        <% } %>                                            <div class="lower-left">                                                <%= characters[i].classLetter() %>                                            </div>                            </div>                        </div>                        <% } %>                </div>            </div>        </div>    </div></div>',_.templates.perksTemplate='<div class="destt-talent">    <% perks.forEach(function(perk){ %>        <div class="destt-talent-wrapper">            <div class="destt-talent-icon">                <img src="<%= perk.iconPath %>" data-name="<%= perk.name %>" width="36">            </div>            <div class="destt-talent-description" style="color: <%= perk.active == true ? \'white\' : \'gray\' %>">                <%= perk.description %>            </div>        </div>        <% }) %></div>',_.templates.selectMultiCharactersTemplate='<div id="menu">    <div class="panel list-group">        <div class="list-group-item row">            <div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">                <p>                    <%= description %>                </p>            </div>        </div>        <div id="opt1" class="collapse in">            <div class="list-group-item row">                <div class="locations col-xs-24 col-sm-24 col-md-24 col-lg-24">                    <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">                        <!-- padding -->                    </div>                    <% for (i = 0; i < characters.length; i++){ %>                        <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4" id="char<%= i %>">                            <div class="attkIcon">                                <div class="icon-banner">                                    <%= characters[i].classType() %>                                </div>                                <% if (selected[characters[i].id] == true){ %>                                    <img src="<%= characters[i].icon() %>" style="border:3px solid yellow" id="char<%= i %>img">                                    <% } else { %>                                        <img src="<%= characters[i].icon() %>" style="border:none" id="char<%= i %>img">                                        <% } %>                                            <div class="lower-left">                                                <%= characters[i].classLetter() %>                                            </div>                            </div>                        </div>                        <% } %>                </div>            </div>        </div>    </div></div>',_.templates.statsTemplate='<div class="destt-stat">    <% Object.keys(stats).forEach(function(key){ %>        <div class="stat-bar">            <div class="stat-bar-label">                <%= key %>            </div>            <div class="stat-bar-static-value">                <%= stats[key] %>            </div>            <div class="stat-bar-empty">                <div style="width:<%= stats[key] %>%" class="stat-bar-fill"></div>            </div>            <div class="stat-bar-value">                <%= stats[key] %>            </div>        </div>        <% }) %></div>',_.templates.swapTemplate='<p>Tip: You may click on a swap item to cycle through alternative replacements. </p><ul class="list-group">    <% swapArray.forEach(function(pair){ %>        <li class="list-group-item">            <div class="row">                <div class="text-center col-xs-24 col-sm-24 col-md-24 col-lg-12">                    <%= pair.description %>                </div>                <div class="text-right col-xs-10 col-sm-10 col-md-10 col-lg-4"><a class="item" href="<%= pair.targetItem && pair.targetItem.href %>"><img class="itemImage" src="<%= (pair.targetItem && pair.targetItem.icon) || pair.targetIcon %>"></a></div>                <div class="text-center col-xs-4 col-sm-4 col-md-4 col-lg-4">                    <img src="<%= pair.actionIcon %>">                </div>                <div class="text-left col-xs-10 col-sm-10 col-md-10 col-lg-4"><a class="swapItem item" href="<%= pair.swapItem && pair.swapItem.href %>" instanceid="<%= pair.swapItem && pair.swapItem._id %>"><img class="itemImage" src="<%= (pair.swapItem && pair.swapItem.icon) || pair.swapIcon %>"></a></div>            </div>        </li>        <% }) %></ul>',_.templates.tooltipsIconTemplate='<span class="fh-icon des-icon small icon-inline no-border">    <a class="inner" href="http://www.destinydb.com/items/<%= item.itemHash %>">        <span class="effect"></span>        <span class="bg" style="background-image:url(<%= tgd.dataDir + item.icon %>)"></span>        <span class="border"></span>    </a>    <span class="outer"></span></span>',_.templates.tooltipsTemplate='<div class="fhtt des des-item">    <div class="destt-cont">        <div class="destt-title destt-bg-<%= item.tierType %>" style="background-image:url(<%= tgd.dataDir + item.icon %>)">            <h2 class="destt-has-icon"></h2>            <h3 class="destt-title-quality"></h3>            <h3 class="destt-has-icon"></h3>            <div class="clearfix"></div>        </div>        <div class="destt-desc"></div>        <div class="destt-info">            Type:            <span>                <%= unescape(item.itemTypeName) %>            </span>,        </div>        <div class="clearfix"></div>    </div>    <div class="destt-right"></div>    <div class="destt-bottomright"></div>    <div class="destt-bottom"></div></div>',_.templates.whatsNewTemplate="Version:<%= tgd.version %>    <br>    <ul>		<li>3.8.2.3 - Multiple options are now available for every combo displayed in the pop up dialog</li>		<li>3.8.2.1 - Improved controls, fixed the play/stop button not showing up, checkboxes can now be selected by tapping on the label</li>		<li>3.8.2 - Introducing a new Farm Mode with more controls</li>		<li>3.8.1.6 - Improved Best Combo layout, added new sorting options under View by Tier, Light and Tier, Name</li>		<li>3.8.1.5 - Fixed a problem with the recent changes with View Options.</li>		<li>3.8.1.4 - Fixed a problem with Farm Mode and Gunsmith Test Weapons.</li>		<li>3.8.1.3 - Fixed a transfer issue that would occur when the vault is full.</li>		<li>3.8.1.2 - Fixed View Options and Best Combo feature bugs.</li>		<li>3.8.1.0 - Improved View Options by setting the Vault to full width when MD or SD are 3 columns.</li>		<li>3.8.0.32 - Added Class initials to the bottom left of the QuickScroll icons when viewed on mobile or low resolution displays</li>		<li>3.8.0.31 - Added DestinyTracker as a quick look up option for items along side DestinyDB and Bungie's Armory.</li>		<li>3.8.0.30 - Updated Farm Mode to include unlocked and decrypted Rare, Uncommon items when transferring to the Vault.</li>		<li>3.8.0.20 - Setting the View Options to 3 columns for LG and Vault position to last will now create a full width Vault section.</li>		<li>3.8.0.10 - Ghosts and Artifacts are now shown when View is set to General or Armor.</li>		<li>3.8.0.9 - The Best Combo button will now consider alternative stats when calcuating best armor sets, added new border color to images to indicate stat status.</li>		<li>3.8.0.8 - Added a new feature 'Farm Mode' that will automatically transfer Engrams, Network Keys, House Banners, etc to the Vault</li>		<li>3.8.0.7 - Added the ability to look up the item in DestinyDB and Bungie Armory from within the move pop up</li>		<li>3.8.0.6 - Added a View Format option under View to switch between the default Image Grid and a new Item List format.</li>		<li>3.8.0.3 - Fixed a problem with Max Light button not considering certain legendaries in specific situations.</li>		<li>3.8.0.2 - Added a new stat to armor tooltips displaying the total skill points and maximum points possible.</li>		<li>3.8.0 - Cleaning up the project, improved various translation sections, fixed a few minor bugs</li>		<li>3.7.9.3 - Stats window for each character now auto closes after selecting a button</li>		<li>3.7.8.5 - Bug fixes for the stat tools, pop up buttons, and loadouts for materials</li>		<li>3.7.8.3 - Added relevant perks to Best Combo view for each build, added feedback for loading process, fixed a refresh bug</li>		<li>3.7.8.2 - Revamped the layout of Best Combo to include more stats, display the items as icons, mobile friend for hold to show the tooltips</li>        <li>3.7.8 - Improved the time it takes to log in (orange bar) for mobile devices</li>        <li>3.7.7.2 - Improved the character stats display with additional information such as Tier level for each skill</li>        <li>3.7.7 - Optimized a major set of the code to be more efficient and memory friendly to fix the crashes on loading</li>        <li>3.7.6.15 - Added 3 new alternative reports under Settings for viewing your profile online using DestinyTracker, Guardian.GG, and DestinyTrials</li>        <li>3.7.6.14 - Improved tooltips for low resolution devices to better scale and position the tooltip box</li>        <li>3.7.6.13 - Fixed a problem with loadouts when using a class item with the perk Life Exotic</li>        <li>3.7.6.12 - Fixed a problem that would prevent the app from refreshing when the emblem was clicked</li>        <li>3.7.6.9 - Optimizing templates and layouts to reduce memory usage and improved translation text.</li>        <li>3.7.6.7 - Optimized the 'Best Combo' button so it should be somewhat faster in calculating the different armor builds.</li>        <li>3.7.6.6 - Fixed a problem with initial loading of profiles for certain desktop platforms</li>        <li>3.7.6.5 - Fixed a problem with loadouts that would prevent a transfer when the destination didn't already have an existing item of that type</li>        <li>3.7.6.2 - Improved the layout for the help text when transferring items</li>        <li>3.7.6.1 - Fixed the Equip with Highest buttons lost styles</li>        <li>3.7.6 - Updated Help text to include new options added recently</li>        <li>3.7.5.13 - Thanks to Korben85 for providing improved German translations.</li>        <li>3.7.5.12 - Improved the Armor drop down with new labels for existing filters and new views for light level and stats.</li>        <li>3.7.5.8 - Improved toaster notifications by reducing the amount of notifications during a refresh, adjusting the position when it's shown, and tweaked the delay for various messages</li>        <li>3.7.5.7 - Various fixes for the tooltip perks, stats and display for certain SRL gear.</li>        <li>3.7.5.5 - Added an option to consolidate from the Extras menu for Consumables</li>        <li>3.7.5.4 - Added a new set of filters to Armor dropdown including filtering armor by weapons equipped, the subclass equipped and the character class type.</li>        <li>3.7.4.1 - Fixed a problem with loading when Auto Updater was enabled for certain desktop platforms</li>        <li>3.7.4.0 - Restructured the way the Tower Ghost loads for certain desktop platforms</li>        <li>3.7.1.2 - Removed image loading code until a better solution can be implemented</li>        <li>3.7.0.7 - Improved app performance by only loading the item images when they are within view</li>        <li>3.7.0.5 - Fixed the top left button \"TGD\" to properly display the What's New section</li>        <li>3.7.0.4 - Fixed tooltips perks not showing in all platforms</li>        <li>3.7.0.3 - Tooltips will now scale better for mobile devices</li>        <li>3.7.0.2 - Fixed iPad landscape start up issue</li>        <li>3.7.0.1 - Fixed broken tooltips after new Bungie update</li>        <li>3.7.0.0 - Updated database to the latest Bungie definitions</li>        <li>3.6.8.8 - Improved tooltips to ensure they always load including remote data issue</li>        <li>3.6.8.7 - Fixes for an improved Auto Refresh setting</li>        <li>3.6.8.6 - Further optimizing Tower Ghost to reduce file sizes and loading times</li>        <li>3.6.8.5 - Equip Best Combo is now sorted by highest available tiers descending</li>        <li>3.6.8.3 - Improved the auto updates download event from notifications to a dedicated loading bar</li>        <li>3.6.8.2 - Mobile tweak to prevent user from being able to select/highlight text when holding it down</li>        <li>3.6.8.1 - Added the Horn bucket to the General view right below Sparrow</li>        <li>3.6.8 - Updated definitions to include the new Sparrow Racing League items</li>        <li>3.6.7.2 - Improved the swap pop up to allow the Transfer button to be activated with the Enter key</li>        <li>3.6.7 - Fixed a problem in 3.6.6.x where auto updates weren't working properly</li>        <li>3.6.6.6 - Equip with highest light will not change currently equipped gear if it's the same light level</li>        <li>3.6.6.4 - Fixed a problem where images not stored in local cache wouldn't load remotely</li>        <li>3.6.6.1 - Fixed a problem with Ghost shells and transfers</li>        <li>3.6.6 - Optimized project to reduce loading times, file sizes and auto update download times</li>        <li>3.6.5.6 - Improved Set filter to include Year 1 and Year 2 items</li>        <li>3.6.5.4 - Fixed a transfer bug that would happen when the vault became full.</li>        <li>3.6.5.3 - Added \"TTK Items\" to the Set drop down to be able to filter only Y2 items</li>        <li>3.6.5.2 - Updated Help documentation to make sure it's up to date with all the latest information</li>        <li>3.6.5.1 - Equip with Highest \"Best Combo\" now allows you to select from multiple builds of the highest tiers</li>        <li>3.6.3 - Adjusted the portrait layout for certain devices to display one column</li>        <li>3.6.2 - Auto Updater is now more reliable, please disable and enable to ensure latest version</li>        <li>3.6.1.4 - Improved updater to provide feedback during download process</li>        <li>3.6.1.3 - Fixed a problem with tooltips when Auto Updated for desktop platforms</li>        <li>3.6.1.2 - Improved the refresh for characters so that a notification is displayed during the process</li>        <li>3.6.1.1 - Added the Refer a Friend reward items to the definitions</li>        <li>3.6.1 - Fixed the logic for Equip with Highest to also take into consideration the exotic faction class items</li>        <li>3.6.0.6 - Added the ability to use the search box to filter by light level, use &gt;300 or &lt;300 for filtering by range</li>        <li>3.6.0.5 - Added the ability to filter by Engrams from the General filter</li>        <li>3.6.0.4 - Fixed an issue with the with the analytics code</li>        <li>3.6.0.3 - Updated sets to include No Time to Explain for Exotic Weapons</li>        <li>3.6.0 - Introducing 4 digit version numbers for auto updates</li>        <li>3.5.9 - Fixed consumables not working on single tap</li>        <li>3.5.8 - Fixed characters not loading after the Bungie 11/17 update</li>        <li>3.5.7 - Fixed the search box resetting the app</li>        <li>3.5.6 - Fixed the Progress Missing Perks filter for Weapons</li>    </ul>",
ko.templates={},ko.templates["character-container-template"]='<div class="container" id="charactersContainerParent" data-bind="style: { width: ccWidth }">    <div class="container-fluid" id="charactersContainer" style="display:none" data-bind="visible: orderedCharacters().length > 0, moveItem: true">        <div class="row" data-bind="foreach: { data: orderedCharacters, as: \'character\' }">            <div class="profile" data-bind="css: $parent.columnMode(character), attr:{id: character.id}">                <div class="character">                    <div class="character-box" data-bind="style: { backgroundImage: background }, css: character.id, refreshableEmblem: true, fastclick: character.refresh, clickBubble: false">                        <img class="emblem" data-bind="itemImageHandler: icon">                        <div class="class" data-bind="text: classType"></div>                        <div class="level" style="cursor:pointer;" data-bind="click: toggleStats, clickBubble: false, visible: level() != \'\'">                            <div class="light" data-bind="text: level"></div>                            <div class="power" data-bind="text: character.powerLevel"></div>                        </div>                        <div class="progression" data-bind="visible: id != \'Vault\', style: { width: character.percentToNextLevel() + \'%\' }">&nbsp;</div>                        <div class="row stats" data-bind="with: stats, visible: statsShowing">                            <div class="col-xs-11 text-left">                                <div>                                    <span class="font-bold" data-bind="text: $root.activeText().armor">Armor</span>                                    <span data-bind="text: STAT_ARMOR.value"></span>                                </div>                                <div>                                    <span class="font-bold" data-bind="text: $root.activeText().agility">Agility</span>                                    <span data-bind="text: STAT_AGILITY.value"></span>                                </div>                                <div>                                    <span class="font-bold" data-bind="text: $root.activeText().recovery">Recovery</span>                                    <span data-bind="text: STAT_RECOVERY.value"></span>                                </div>                            </div>                            <div class="col-xs-13 text-right">                                <!-- ko foreach: { data: tgd.DestinyArmorStats, as: \'stat\' } -->                                <div>                                    <span class="font-bold" data-bind="text: stat.statName.toLowerCase().substring(0,3)"></span>                                    <span data-bind="text: character.equippedStats()[stat.statName]"></span>									<img data-bind="attr: { src: \'assets/\' + stat.statName + \'.png\' }, event: { error: function(){ $($element).remove() } }">                                    <span data-bind="text: \'T\' + Math.floor(character.equippedStats()[stat.statName] / tgd.DestinySkillTier)"></span>                                </div>                                <!--/ko  -->                            </div>                            <div class="col-xs-24 text-center" style="padding-top:1px; padding-bottom:1px;">                                <span class="font-bold">Tier</span>:                                <span data-bind="text: character.equippedTier" title="Effective Tier / Theoretical Tier"></span>                                (                                <span data-bind="text: character.sumCSP" title="Combined Stat Points for Armor Equipped"></span> /                                <span data-bind="text: character.tierCSP" title="Stat Points needed to reach Theoretical Tier"></span> )                            </div>                            <div class="col-xs-24 text-center">                                <span data-bind="text: $root.activeText().gear_with_highest">Equip Gear With Highest:</span>                                <br>                                <a data-bind="text: $root.activeText().light, click: character.equipHighest(\'Light\'), clickBubble: false" class="btn btn-default">Light</a>                                <a data-bind="text: $root.activeText().inte, click: character.equipHighest(\'Intellect\'), clickBubble: false" class="btn btn-default">Int</a>                                <a data-bind="text: $root.activeText().disc, click: character.equipHighest(\'Discipline\'), clickBubble: false" class="btn btn-default">Disc</a>                                <a data-bind="text: $root.activeText().str, click: character.equipHighest(\'Strength\'), clickBubble: false" class="btn btn-default">Str</a>                                <hr style="margin:3px; padding:6px;">                                <a data-bind="text: $root.activeText().most_points, click: character.equipHighest(\'All\'), clickBubble: false" class="btn btn-default btn-sm">Most Points</a> |                                <a data-bind="text: $root.activeText().best_combo, click: character.equipHighest(\'Best\'), clickBubble: false" class="btn btn-default btn-sm">Best Combo</a>                            </div>                        </div>                    </div>                </div>                <div class="inventory">                    <div class="items" data-type="item">                        <!-- ko foreach: { data: $root.activeLayouts, as: \'layout\' } -->                        <!-- ko if: layout.isVisible(character)() -->                        <div>                            <div class="title2" data-bind="visible: $root.searchKeyword() == \'\', refreshableSection: true">                                <strong data-bind="text: layout.titleText(character)"></strong>                                <span data-bind="html: layout.countText(character)"></span>                                <div class="titleRefresh" data-bind="visible: isMobile">                                    <!-- ko if: (layout.headerText == \'inventory_weapons\' || layout.headerText == \'inventory_armor\') -->                                    <i title="Click to select multiple items to transfer in one go." class="fa fa-clone" data-bind="fastclick: $root.startMultiSelect, clickBubble: false"></i>                                    <!--/ko  -->                                    <i title="Click to refresh this area" class="fa fa-refresh text-success" data-bind="fastclick: character.reloadBucket, clickBubble: false"></i>                                </div>                            </div>                            <div class="sections" data-bind="template: { name: $root.sectionsTemplate, foreach: layout.activeBucketTypes, as: \'bucketType\' }"></div>                        </div>                        <!--/ko  -->                        <!--/ko  -->                    </div>                </div>            </div>            <!-- ko if: $index() == 1 -->            <div class="clearfix hidden-xs visibile-sm-block hidden-md hidden-lg" data-bind="visible: tgd.defaults.smColumn == $root.smColumn()"></div>            <!--/ko  -->            <!-- ko if: $index() == 2 -->            <div class="clearfix hidden-xs hidden-sm visibile-md-block hidden-lg" data-bind="visible: tgd.defaults.mdColumn == $root.mdColumn()"></div>            <!--/ko  -->        </div>    </div></div>',ko.templates["image-grid-template"]='<div class="title" data-bind="visible: bucketType !== \'Subclasses\' && $root.searchKeyword() == \'\', refreshableSection: true">    <span data-bind="text: $root.getBucketName(bucketType)"></span>    <!-- ko if: ( character.id !== \'Vault\' ) -->    <!-- ko if: !(bucketType == \'Materials\' || bucketType == \'Quests\' || bucketType == \'Consumables\' || bucketType == \'Messages\' || bucketType == \'Invisible\' || bucketType == \'Lost Items\' || bucketType == \'Bounties\') -->    (    <span data-bind="text: character.get(bucketType).length + (character.itemEquipped(bucketType) ? 1 : 0)"></span>/10)    <!--/ko  -->    <!-- ko if: (bucketType == \'Bounties\') -->    (    <span data-bind="text: character.get(bucketType).length"></span>/16)    <!--/ko  -->    <!-- ko if: (bucketType == \'Quests\') -->    (    <span data-bind="text: character.get(bucketType).length"></span>/32)    <!--/ko  -->    <!-- ko if: ( bucketType == \'Materials\' || bucketType == \'Consumables\' || bucketType == \'Messages\' || bucketType == \'Invisible\' || bucketType == \'Lost Items\' ) -->    (    <span data-bind="text: character.get(bucketType).length"></span>/20)    <!--/ko  -->    <!--/ko  -->    <div class="titleRefresh" data-bind="visible: isMobile">        <!-- ko if: !(bucketType == \'Materials\' || bucketType == \'Consumables\') -->        <i title="Click to select multiple items to transfer in one go." class="fa fa-clone" data-bind="fastclick: $root.startMultiSelect, clickBubble: false"></i>        <!--/ko  -->        <!-- ko if: (bucketType == \'Materials\' || bucketType == \'Consumables\') -->        <img title="Click to normalize all consumables" src="assets/swap_16.png" data-bind="fastclick: function(){ $root.normalizeAll(bucketType); }, clickBubble: false" />        <!--/ko  -->        <i title="Click to refresh this area" class="fa fa-refresh text-success" data-bind="fastclick: character.reloadBucket, clickBubble: false"></i>    </div></div><div class="row no-gutter" style="margin:auto;">    <div class="itemBucket" data-bind="css: ((character.id == \'Vault\' || tgd.DestinyBucketColumns[bucketType] == 4) ? \'col-xs-24\' : \'col-xs-18\') + \' \' + bucketType + \' \' + character.id">        <div class="itemBucketBG" data-bind="sortable: { data: character.get(bucketType), as: \'item\' }">            <span class="bucket-item" data-bind="css: columnMode, visible: isVisible">                <a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}, style: { opacity: item.opacity }">                    <img class="itemImage" data-bind="itemImageHandler: item.icon, attr: { instanceId:item._id }, fastclick: function(){ return false }">                </a>                <img src="assets/lock.png" class="lockIcon" data-bind="visible: item.locked" />                <div class="attkIcon" data-bind="visible: primaryStat() != \'\'">                    <div data-bind="text: primaryStat, css: damageTypeName"></div>                </div>            </span>        </div>    </div>    <!-- ko with: character.itemEquipped(bucketType) -->    <div style="padding-left: 4px;" class="bucket-item col-xs-6" data-bind="css: isGridComplete ? \'complete\' : \'\', visible: isVisible, sortable: [$data]">        <a class="itemLink" data-bind="attr:{href:href, instanceId:_id}">            <img class="itemImage" data-bind="itemImageHandler: icon, attr: { instanceId:_id }, fastclick: function(){ return false }">        </a>        <img src="assets/lock.png" class="lockIcon" data-bind="visible: locked" />        <div class="attkIcon" data-bind="visible: primaryStat() != \'\'">            <div data-bind="text: primaryStat, css: damageTypeName"></div>        </div>    </div>    <!--/ko  --></div>',ko.templates["items-list-template"]='<table class="table table-striped table-hover" data-bind="visible: character.get(bucketType).length > 0">	<thead>		<tr>		  <th colspan="3">			<span data-bind="text: $root.getBucketName(bucketType)"></span>			<!-- ko if: ( character.id !== \'Vault\' ) -->			<!-- ko if: !(bucketType == \'Materials\' || bucketType == \'Quests\' || bucketType == \'Consumables\' || bucketType == \'Messages\' || bucketType == \'Invisible\' || bucketType == \'Lost Items\' || bucketType == \'Bounties\') -->			(			<span data-bind="text: character.get(bucketType).length + (character.itemEquipped(bucketType) ? 1 : 0)"></span>/10)			<!--/ko  -->			<!-- ko if: (bucketType == \'Bounties\') -->			(			<span data-bind="text: character.get(bucketType).length"></span>/16)			<!--/ko  -->			<!-- ko if: (bucketType == \'Quests\') -->			(			<span data-bind="text: character.get(bucketType).length"></span>/32)			<!--/ko  -->			<!-- ko if: ( bucketType == \'Materials\' || bucketType == \'Consumables\' || bucketType == \'Messages\' || bucketType == \'Invisible\' || bucketType == \'Lost Items\' ) -->			(			<span data-bind="text: character.get(bucketType).length"></span>/20)			<!--/ko  -->			<!--/ko  -->		  		  </th>		</tr>	</thead>	<tbody data-bind="sortable: { data: character.all(bucketType), as: \'item\' }">		<tr data-bind="css: isEquipped() ? \'active\' : \'\'">		  <td><a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}, text: description, fastclick: function(){ return false }"></a></td>		  <td data-bind="css: damageTypeName, text: item.primaryStat"></td>		  <td class="text-right">		  	<span data-bind="if: item.weaponIndex > -1">				<span data-bind="text:item.typeName.split(\' \')[0]"></span>			</span>			<div data-bind="if: item.armorIndex > -1" style="width: 36px;">				<!-- ko foreach: item.perks  -->					<img data-bind="attr: { src: iconPath, title: name }" width="16">				<!--/ko  -->			</div>		  </td>		</tr>	</body></table>	',ko.templates["loadout-create-template"]='<div id="loadout-create" data-bind="visible: loadoutMode, if: loadoutMode" style="display:none;">    <div class="content" data-bind="with: activeLoadout">        <div id="loadout-options" class="row">            <div class="col-xs-12" data-bind="visible: $parent.dynamicMode() == false">                <input id="loadout-name" type="search" data-bind="value: name" placeholder="Loadout Name...">            </div>            <div class="col-xs-12">                <controls data-bind="visible: $parent.dynamicMode() == false">                    <span data-bind="fastclick: save, text: $root.activeText().loadouts_save">Save</span>                    <span data-bind="fastclick: saveNew, text: $root.activeText().loadouts_save_new" style="white-space:nowrap;">Save As</span>                    <span data-bind="fastclick: remove, text: $root.activeText().loadouts_delete">Delete</span>                </controls>                <span data-bind="fastclick: $root.cancelLoadout, text: $root.activeText().close_msg">Close</span>            </div>            <div class="col-xs-24">                <!-- ko foreach: { data: $root.orderedCharacters, as: \'character\' } -->                <div class="move-button move-loadout" data-bind="attr: { title: uniqueName }, click: function(){ $parent.transfer(character.id) }, style: { backgroundImage: iconBG }">                    <div class="lower-left" data-bind="text: classLetter"></div>                </div>                <!--/ko  -->            </div>            <div id="loadout-error" class="col-xs-24 label label-danger" data-bind="visible: items().length == 0, text: $root.activeText().loadouts_instructions + (isMobile ? $root.activeText().loadouts_mobile:$root.activeText().loadouts_desktop) + $root.activeText().loadouts_instructions_contd"></div>        </div>        <span id="loadout-contents" data-bind="foreach: { data: items, as: \'item\' }, moveItem: true">            <div class="item" data-bind="css: isMobile && item._id > 0 && item.doEquip() ? \'doEquip\' : \'\'">                <input type="checkbox" value="true" data-bind="checked: item.doEquip, fastclick: markAsEquip, visible: !isMobile && item._id > 0" title="Enable to mark as the equip item">                <a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}">                    <img class="itemImage" src="about:blank" data-bind="attr: { src: item.icon, instanceId:item._id }, fastclick: function(){ return false }">                </a>                <div class="attkIcon">                    <div data-bind="text: primaryStat, css: damageTypeName"></div>                </div>            </div>        </span>    </div></div>',ko.templates["messages-template"]='<div class="container well well-sm" data-bind="if: farmViewEnabled, visible: farmViewEnabled">    <div class="container-fluid">		<form class="form-horizontal">			<fieldset>				<div class="col-xs-24 text-center">					<div class="col-xs-7">						<div class="col-xs-24 col-sm-24 col-md-8 col-lg-10">							<span data-bind="text: farmMode() ? \'Enabled\' : \'Disabled\', css: farmMode() ? \'text-success\' : \'text-danger\'"></span>							<span data-bind="visible: farmMode">								(<span id="timeRemainingForRefresh" title="Time until next refresh" class="text-muted"></span>)							</span>						</div>						<div class="col-xs-24 col-sm-12 col-md-8 col-lg-7" style="white-space: nowrap">							<button title="Enable/Disable" data-bind="click: function(){ farmMode(!farmMode()) }">								<span data-bind="css: farmMode() ? \'fa-stop text-danger\' : \'fa-play text-success\'" class="fa"></span>							</button>							<button title="Refresh Inventory" data-bind="click: refresh"><i class="fa fa-refresh text-success"></i></button>						</div>						<div class="col-xs-24 col-sm-12 col-md-8 col-lg-7" style="white-space: nowrap">							<button title="Show Help" data-bind="click: showFarmHelp"><i class="fa fa-question text-info"></i></button>							<button title="Close Farm Mode Controls" data-bind="click: toggleFarmMode"><i class="fa fa-times text-danger"></i></button>						</div>					</div>					<div class="col-xs-12">						<!-- ko foreach: { data: _.keys(tgd.farmItemFilters), as: \'itemType\' } -->							<div class="col-xs-24 col-sm-12 col-md-6 col-lg-6 text-left">								<label>									<input type="checkbox" data-bind="checked: $root.farmItems, value: itemType"> 									<span data-bind="text: itemType" class="text-primary"></span>									<span data-bind="text: $root.farmItemCounts()[itemType]" class="text-info"></span>								</label>							</div>						<!--/ko  -->					</div>					<div class="col-xs-5" data-bind="visible: farmMode() == false">						<div data-bind="foreach: { data: orderedCharacters, as: \'avatar\' }">			                <div class="mobile-characters" data-bind="if: avatar.id != \'Vault\', click: transferFarmItemsToVault.bind(avatar)">			                    <img class="mobile-characters-image" data-bind="itemImageHandler: icon, attr: {title: uniqueName}, css: id" src="about:blank">								<div class="mobile-characters-letter" data-bind="text: classLetter"></div>			                </div>			            </div>					</div>				</div>			</fieldset>		</form>	</div></div>	<div class="alert alert-dismissible alert-info" data-bind="visible: isStaticBrowser, if: isStaticBrowser" style="display:none;">    <button type="button" class="close" data-dismiss="alert"></button>    <strong>Create your own share URL!</strong> <a href="/index.php/downloads/" target="_blank">Install the app</a> for Chrome, Firefox, iOS, Android or Windows-Phone.</div><div class="alert alert-info" data-bind="visible: shareView, if: shareView" style="display:none;">    <span data-bind="text: $root.activeText().text_shareurl"></span>:    <a target="_system" data-bind="attr:{href: shareUrl}">        <span data-bind="text: shareUrl"></span>    </a></div><div class="alert alert-success" data-bind="visible: showMissing, if: showMissing" style="display:none;">    <strong data-bind="text: $root.activeText().missing_items">Missing Items</strong>    <span data-bind="foreach: { data: missingSets }">        <a data-bind="attr:{ href: \'https://destinydb.com/items/\' + $data }, fastclick: function(){ return false }">            <img src="about:blank" data-bind="attr:{src: _itemDefs[ $data ] && ($root.bungie.getUrl() +_itemDefs[ $data ].icon), title: _itemDefs[ $data ] && _itemDefs[ $data ].name }" width="48">        </a>    </span></div><div data-bind="with: $root.activeUser()" style="">    <div data-bind="visible: typeof error !== \'undefined\'" style="display:none;">        <div class="alert alert-danger" data-bind="visible: typeof code !== \'undefined\' && code != 99">            <strong>Error:</strong>            <span data-bind="text: typeof error == \'undefined\' ? \'\' : error"></span>        </div>        <div data-bind="visible: typeof code !== \'undefined\' && (code == 99) || (typeof error !== \'undefined\' && (error == \'network error:502\' || error == \'network error:503\'))">            <div class="col-xs-24 col-sm-16 col-sm-offset-4 col-lg-8 col-lg-offset-8 text-center">                <div class="panel panel-success" id="loginForm">                    <div class="panel-heading">                        <h2 class="panel-title" data-bind="text: $root.activeText().login_title">Welcome to Tower Ghost for Destiny!</h2>                    </div>                    <div class="panel-body">                        <p data-bind="text: $root.activeText().login_instructions">To get started you\'ll need to log in to your Bungie.net account via:</p>                        <div class="btn-padding">                            <div class="form-group">                                <a data-bind="fastclick:$root.openBungieWindow(\'Xuid\')" style="cursor:pointer; color:#1a1e24" class="btn btn-secondary btn-block">                                    <img src="assets/xbox_live.png" /> Xbox Live</a>                            </div>                            <div class="form-group">                                <a data-bind="fastclick:$root.openBungieWindow(\'Psnid\')" style="cursor:pointer; color:#1a1e24" class="btn btn-secondary btn-block">                                    <img src="assets/playstation.png"> Playstation Network</a>                            </div>                        </div>                        <p data-bind="text: $root.activeText().login_help">Please wait for the login window to auto close as TGD prepares your information.</p>                    </div>                </div>            </div>        </div>    </div></div><div style="display:none;" id="tgdLoader">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_loading_updates">Please wait, downloading auto updates</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-success" id="tgdLoaderProgress" style="width: 100%"></div>        </div>    </div></div><div style="display:none;" data-bind="visible: loadingUser() == true && hiddenWindowOpen() == false">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_loading_inventory">Please wait, loading arsenal from Bungie</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-success" style="width: 100%"></div>        </div>    </div></div><div style="display:none;" data-bind="visible: hiddenWindowOpen, if: hiddenWindowOpen">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_authenticating_pt1">Logging into Bungie... Please be patient.</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-warning" style="width: 100%"></div>        </div>        <div>            <span data-bind="text: $root.activeText().login_authenticating_pt2">If log in screen remains for 4+ minutes, use these links for</span>            <a data-bind="fastclick:$root.openBungieWindow(\'Xuid\')" style="text-decoration: underline;">Xbox Live</a> or            <a data-bind="fastclick:$root.openBungieWindow(\'Psnid\')" style="text-decoration: underline;">Playstation Network</a>            <span data-bind="text: $root.activeText().login_authenticating_pt3">to retry signing in. </span>        </div>    </div></div>',ko.templates["move-popup-template"]='<nav data-bind="with: activeItem" id="move-popup" class="navbar navbar-default navbar-fixed-bottom" style="display:none;">    <div class="container-fluid">        <div class="move-popup row no-gutter">            <div class="item-name col-xs-24">				<div class="pull-left">					<span data-bind="text: $root.activeText().movepopup_move"></span>:					<span data-bind="text: description"></span>					<!-- ko if: (bucketType == \'Consumables\' && tgd.DestinyGeneralItems[\'GlimmerConsumables\'].indexOf(id) > -1) -->					<span data-bind="text: \'valued at: \' + (primaryStat() * 200) + \'G\'"></span>					<!-- /ko -->					<!-- ko if: (bucketType !== \'Consumables\' && bucketType !== \'Materials\' && bucketType !== \'Messages\' && bucketType !== \'Invisible\' && bucketType !== \'Lost Items\' && bucketType !== \'Bounties\' && bucketType !== \'Mission\') -->					<img data-bind="attr: { src: locked() ? \'assets/lock.png\' : \'assets/unlock.png\' }, click: function(){ toggleLock() }" style="cursor:pointer;" />					<!-- /ko -->				</div>				<div class="pull-right">					<span class="label label-primary"><a data-bind="fastclick: openInDestinyTracker">DTR</a></span>					<span class="label label-primary"><a data-bind="fastclick: openInDestinyDB">DDB</a></span>					<span class="label label-primary"><a data-bind="fastclick: openInArmory">Armory</a></span>				</div>            </div>            <div class="locations col-xs-24 col-md-20 col-md-offset-2 col-lg-28 col-lg-offset-4">                <div class="locations" data-bind="foreach: { data: $root.orderedCharacters, as: \'avatar\' }">                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, click: function(){ $parent.store(avatar.id) }, visible: avatar.id == \'Vault\' && $parent.character.id !== \'Vault\' && $parent.bucketType !== \'Subclasses\' && $parent.transferStatus < 2">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_vault"></div>                            <img src="about:blank" data-bind="attr: { src : icon }">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, click: function(){ $parent.store(avatar.id) }, visible: $parent.isStoreable(avatar.id)">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_store"></div>                            <img src="about:blank" data-bind="attr: { src : icon }">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, click: function(){ $parent.equip(avatar.id) }, visible: $parent.isEquippable(avatar.id)">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_equip"></div>                            <img src="about:blank" data-bind="attr: { src : icon }">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                </div>                <div class="move-button col-xs-4" data-bind="attr: { title: \'extras\' }, click: function(){ extrasGlue() }, visible: (bucketType == \'Materials\' || bucketType == \'Consumables\')">                    <div class="attkIcon">                        <div class="icon-banner" data-bind="text: $root.activeText().movepopup_extras">extras</div>                        <img src="assets/icon128.png">                    </div>                </div>            </div>        </div>    </div></nav>',ko.templates["navbar-template"]='<nav class="navbar navbar-default navbar-fixed-top">    <div class="container-fluid">        <div class="navbar-header">            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">                <span class="sr-only">Toggle navigation</span>                <span class="icon-bar"></span>                <span class="icon-bar"></span>                <span class="icon-bar"></span>            </button>            <a class="navbar-brand" href="#" data-bind="click: showWhatsNew">TGD <strong data-bind="visible: !isMobile && !isStaticBrowser"><span class="version" data-bind="text: tgd.version"></span></strong></a>            <div class="quickScrollView" data-bind="foreach: { data: $root.orderedCharacters, as: \'avatar\' }, scrollToView: false">                <div class="mobile-characters">                    <img class="mobile-characters-image" data-bind="itemImageHandler: icon, attr: {title: uniqueName}, css: id" src="about:blank">					<div class="mobile-characters-letter" data-bind="text: classLetter"></div>                </div>            </div>        </div>        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">            <ul class="nav navbar-nav navbar-right">                <li class="dropdown">                    <a data-bind="fastclick: refreshButton" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-refresh text-success"></i> <span class="refresh-text" data-bind="text: $root.activeText().menu_refresh">Refresh</span></a>                </li>                <li class="dropdown">                    <a data-bind="fastclick: clearFilters" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-filter"></i> <span class="clear-filters-text" data-bind="text: $root.activeText().menu_clear">Clear Filters</span></a>                </li>                <li class="dropdown" data-bind="visible: !isStaticBrowser">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cog"></i> <span class="settings-text" data-bind="text: $root.activeText().menu_settings">Settings</span> <span class="caret"></span></a>                    <ul class="dropdown-menu" role="menu">                        <li><a href="#" data-bind="fastclick: logout">Logout</a></li>                        <li data-bind="visible: hasBothAccounts() || (!hasBothAccounts() && preferredSystem() == \'PSN\')"><a href="#" data-bind="fastclick: openBungieWindow(\'Psnid\')">PSN Login</a></li>                        <li data-bind="visible: hasBothAccounts() || (!hasBothAccounts() && preferredSystem() == \'XBL\')"><a href="#" data-bind="fastclick: openBungieWindow(\'Xuid\')">Live Login</a></li>                        <li data-bind="visible: hasBothAccounts(), css: preferredSystem() == \'XBL\' ? \'active\' : \'\'"><a href="#" data-bind="fastclick: useXboxAccount, text: $root.activeText().menu_usexbox">Use Xbox Account</a></li>                        <li data-bind="visible: hasBothAccounts(), css: preferredSystem() == \'PSN\' ? \'active\' : \'\'"><a href="#" data-bind="fastclick: usePlaystationAccount, text: $root.activeText().menu_useps">Use Playstation Account</a></li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: clearFilters"><i class="fa fa-filter"></i><span data-bind="text: $root.activeText().menu_clear">Clear Filters</span></a></li>                        <li><a href="#" data-bind="fastclick: showAbout"><i class="fa fa-info"></i><span data-bind="text: $root.activeText().menu_about">About</span></a></li>                        <li><a href="#" data-bind="fastclick: showHelp"><i class="fa fa-question"></i><span data-bind="text: $root.activeText().menu_help">Help</span></a></li>                        <li><a href="#" data-bind="fastclick: showDonate"><i class="fa fa-credit-card"></i><span data-bind="text: $root.activeText().menu_donate">Donate</span></a></li>                        <li><a href="#" data-bind="fastclick: showLanguageSettings"><i class="fa fa-language"></i><span data-bind="text: $root.activeText().menu_language">Language</span></a></li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(1)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinystatus">DestinyStatus Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(2)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinytrials">DestinyTrials Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(3)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinytracker">DestinyTracker Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(4)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinyguardiangg">Guardian.GG Report</span></a></li>                        <li><a href="#" data-bind="fastclick: toggleShareView"><i class="fa fa-share-alt"></i><span data-bind="text: $root.activeText().menu_shareurl">Share URL with friends</span></a></li>                        <li class="divider"></li>                        <li data-bind="fastclick: toggleRefresh, css: doRefresh() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: doRefresh() == true ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: $root.activeText().menu_autorefresh">Auto Refresh</span></a>                        </li>                        <li data-bind="fastclick: toggleDestinyDbTooltips, css: tooltipsEnabled() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: tooltipsEnabled() == true ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: $root.activeText().menu_destinydbtooltips">DestinyDB Tooltips</span></a>                        </li>                        <li data-bind="fastclick: toggleAdvancedTooltips, css: advancedTooltips() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: advancedTooltips() == true ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: $root.activeText().menu_advancedtooltips">Advanced Tooltips</span></a>                        </li>                        <li data-bind="fastclick: toggleTransferStacks, css: autoXferStacks() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: autoXferStacks() == true ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: $root.activeText().menu_autotransfer">Auto Transfer Stacks</span></a>                        </li>                        <li data-bind="fastclick: togglePadBucketHeight, css: padBucketHeight() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: padBucketHeight() == true ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: $root.activeText().menu_padheight">Auto Pad Height</span></a>                        </li>                        <li data-bind="fastclick: toggleDragAndDrop, css: dragAndDrop() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: dragAndDrop() == true ? \'fa-check-square\' : \'fa-square\'"></i><span>Drag and Drop</span></a>                        </li>						<li data-bind="fastclick: toggleFarmMode, css: farmViewEnabled() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: farmViewEnabled() == true ? \'fa-check-square\' : \'fa-square\'"></i><span>Farm Mode Controls</span></a>                        </li>                        <li data-bind="fastclick: toggleAutoUpdates, css: autoUpdates() == true ? \'active\' : \'\'">                            <a href="#"><i class="fa" data-bind="css: autoUpdates() == true ? \'fa-check-square\' : \'fa-square\'"></i><span>Auto Updates</span></a>                        </li>                    </ul>                </li>            </ul>            <form class="navbar-form navbar-right">                <input class="form-control" placeholder="Search" size="9" type="text" data-bind="value: searchKeyword">            </form>            <ul class="nav navbar-nav">                <li class="dropdown" data-bind="visible: !isStaticBrowser">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_loadouts">Loadouts</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <!-- ko foreach: { data: sortedLoadouts, as: \'loadout\' } -->                        <li data-bind="fastclick: setActive">                            <a data-bind="text: loadout.name" href="#"></a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li data-bind="fastclick: createLoadout"><a href="#"><i class="fa fa-plus"></i>								<span data-bind="text: $root.activeText().menu_loadouts_create">Create</span>							</a></li>                        <li data-bind="fastclick: cancelLoadout"><a href="#"><i class="fa fa-times"></i>								<span data-bind="text: $root.activeText().cancel">Cancel</span>							</a></li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view">View</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="fastclick: setView" value="0">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="1">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_weapons">Weapons</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="2">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_armor">Armor</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="3">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_general">General</span>                            </a>                        </li>						<li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_viewformat">View Format</span>                            </strong>                        </li>						<li data-bind="fastclick: setViewFormat" value="image-grid-template">                            <a href="#">                                <i class="fa" data-bind="css: sectionsTemplate() == \'image-grid-template\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_viewimagegrid">Image Grid</span>                            </a>                        </li>                        <li data-bind="fastclick: setViewFormat" value="items-list-template">                            <a href="#">                                <i class="fa" data-bind="css: sectionsTemplate() == \'items-list-template\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_viewitemlist">Items List</span>                            </a>                        </li>                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_sortby">Sort By</span>                            </strong>                        </li>                        <li data-bind="fastclick: setSort" value="0">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_type">Tier, Type</span>                            </a>                        </li>						<li data-bind="fastclick: setSort" value="5">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 5 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_light">Tier, Light</span>                            </a>                        </li>						<li data-bind="fastclick: setSort" value="6">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 6 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_name">Tier, Name</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="1">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_type">Type</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="2">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_lightlvl">Light Level</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="3">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_damage">Damage Type</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="4">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 4 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_name">Name</span>                            </a>                        </li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: toggleViewOptions, text: $root.activeText().menu_view_options">View Options</a></li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_set">Set</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: setFilter().length == 0 ? \'active\' : \'\', fastclick: setSetFilter(\'All\')">                            <a href="#"><i class="fa" data-bind="css: setFilter().length == 0 ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <!-- ko foreach: { data: collectionSets, as: \'collection\' } -->                        <li data-bind="css: $root.setFilter() == _collections[collection] ? \'active\' : \'\', fastclick: $root.setSetFilter(collection)">                            <a href="#">                                <i class="fa" data-bind="css: $root.setFilter() == _collections[collection] ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: collection"></span>                            </a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li data-bind="css: showMissing() ? \'active\' : \'\', fastclick: toggleShowMissing">                            <a href="#"><i class="fa" data-bind="css: showMissing() ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_set_showmissing">Show Missing Items</span>								</a>                        </li>                        <li data-bind="css: showDuplicate() ? \'active\' : \'\', fastclick: toggleDuplicates">                            <a href="#"><i class="fa" data-bind="css: showDuplicate() ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_set_showduplicates">Show Duplicate Items</span>								</a>                        </li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_tier">Tier</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: tierFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: $root.setTierFilter.bind(0)">                            <a href="#"><i class="fa" data-bind="css: tierFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>							<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <!-- ko foreach: { data: tierTypes, as: \'tierType\' } -->                        <li data-bind="css: $parent.tierFilter() == tierType.tier ? \'active\' : \'\', fastclick: $parent.setTierFilter.bind(tierType.tier)">                            <a href="#"><i class="fa" data-bind="css: $parent.tierFilter() == tierType.tier ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: tierType.name"></span></a>                        </li>                        <!--/ko  -->                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_progress">Progress</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="0">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="1">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_1">Missing XP</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="2">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_2">Full XP</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="3">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_3">Maxed</span>								</a>                        </li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="html: $root.activeText().menu_damage">Damage</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu" data-bind="foreach: { data: _.values(tgd.DestinyDamageTypes).splice(1,4), as: \'dmgType\' }">					                        <li data-bind="css: $parent.dmgFilter().indexOf(dmgType) > -1 ? \'active\' : \'\', fastclick: $parent.setDmgFilter.bind(dmgType)">                            <a href="#">								<i class="fa" data-bind="css: $parent.dmgFilter().indexOf(dmgType) > -1 ? \'fa-check-square\' : \'fa-square\'"></i>								<img class="icon" data-bind="attr: { src: \'assets/\' + dmgType.toLowerCase() + \'.png\' }">								<span data-bind="text: dmgType"></span>							</a>                        </li>                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 1)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_weapons">Weapons</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: weaponFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setWeaponFilter({ name: 0 })">                            <a href="#">                                <i class="fa" data-bind="css: weaponFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: weaponTypes, as: \'weaponType\' } -->                        <li data-bind="css: $parent.weaponFilter() == weaponType.name ? \'active\' : \'\', fastclick: $parent.setWeaponFilter(weaponType)">                            <a href="#"><i class="fa" data-bind="css: $parent.weaponFilter() == weaponType.name ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: weaponType.name">All</span>								</a>                        </li>                        <!--/ko  -->                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 2)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_armor">Armor</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: armorFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setArmorFilter(0)">                            <a href="#">                                <i class="fa" data-bind="css: armorFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: tgd.DestinyArmorPieces, as: \'armorType\' } -->                        <li data-bind="css: $parent.armorFilter() == armorType ? \'active\' : \'\', fastclick: $parent.setArmorFilter(armorType)">                            <a href="#"><i class="fa" data-bind="css: $parent.armorFilter() == armorType ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: armorType"></span>								</a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_filter_by">Filter By</span>                            </strong>                        </li>                        <li data-bind="css: showArmorPerks() ? \'active\' : \'\', fastclick: toggleArmorPerks">                            <a href="#">                                <i class="fa" data-bind="css: showArmorPerks() ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_filter_by_weapon_eq">Weapons Equipped</span>                            </a>                        </li>                        <li data-bind="css: showArmorSC() ? \'active\' : \'\', fastclick: toggleArmorSC">                            <a href="#">                                <i class="fa" data-bind="css: showArmorSC() ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_filter_by_subclass_eq">Subclass Equipped</span>                            </a>                        </li>                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_filter_for_class">Filter for Class</span>                            </strong>                        </li>                        <!-- ko foreach: { data: _.values(tgd.DestinyClass), as: \'classType\' } -->                        <li data-bind="css: $parent.showArmorClass(classType) ? \'active\' : \'\', fastclick: $parent.toggleArmorClass.bind(classType)">                            <a href="#">                                <i class="fa" data-bind="css: $parent.showArmorClass(classType) ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: classType"></span>                            </a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_view_by">View By</span>                            </strong>                        </li>                        <li data-bind="css: armorViewBy() == \'Light\' ? \'active\' : \'\', fastclick: setArmorView.bind(\'Light\')">                            <a href="#">                                <i class="fa" data-bind="css: armorViewBy() == \'Light\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_by_lightlvl">Light Level</span>                            </a>                        </li>                        <li data-bind="css: armorViewBy() == \'All\' ? \'active\' : \'\', fastclick: setArmorView.bind(\'All\')">                            <a href="#">                                <i class="fa" data-bind="css: armorViewBy() == \'All\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_by_stat_points">Combined Stat Points</span>                            </a>                        </li>                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 3)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_general">General</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: generalFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setGeneralFilter.bind(0)">                            <a href="#">                                <i class="fa" data-bind="css: generalFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: tgd.DestinyGeneralSearches, as: \'searchType\' } -->                        <li data-bind="css: $parent.generalFilter() == searchType ? \'active\' : \'\', fastclick: $parent.setGeneralFilter.bind(searchType)">                            <a href="#"><i class="fa" data-bind="css: $parent.generalFilter() == searchType ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: searchType"></span>								</a>                        </li>                        <!--/ko  -->                    </ul>                </li>            </ul>        </div>    </div></nav>',
ko.templates["viewoptions-template"]='<div class="container well bs-component" style="display:none;" data-bind="if: viewOptionsEnabled, visible: viewOptionsEnabled">    <div class="container-fluid">        <form class="form-horizontal">            <fieldset>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_container_width">Container Width</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'\' ? \'btn-active\': \'btn-default\'" href="#">Default</a>                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'60%\' ? \'btn-active\': \'btn-default\'" href="#">60%</a>                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'70%\' ? \'btn-active\': \'btn-default\'" href="#">70%</a>                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'80%\' ? \'btn-active\': \'btn-default\'" href="#">80%</a>                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'90%\' ? \'btn-active\': \'btn-default\'" href="#">90%</a>                            <a class="btn" data-bind="click: setCCWidth, css: ccWidth() == \'100%\' ? \'btn-active\': \'btn-default\'" href="#">100%</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_layout_mode">Vault Mode</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <div class="radio">                                <label>                                    <input name="layoutMode" value="even" type="radio" data-bind="checked: layoutMode">                                    <span data-bind="text: $root.activeText().vo_layout_mode_def"> Default</span>                                </label>                            </div>                            <div class="radio">                                <label>                                    <input name="layoutMode" value="uneven" type="radio" data-bind="checked: layoutMode">                                    <span data-bind="text: $root.activeText().vo_layout_mode_cust"> Custom</span>                                </label>                            </div>                        </div>                    </div>                </div>                <div class="form-group" data-bind="visible: layoutMode() == \'even\'">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_number_of_columns"># of Columns</label>                    <div class="col-xs-24 col-sm-18">                        <div class="row">                            <div class="col-xs-2">XS</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="click: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="2" data-bind="click: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="3" data-bind="click: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="4" data-bind="click: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">SM</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="click: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="2" data-bind="click: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="3" data-bind="click: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="4" data-bind="click: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">MD</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="click: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="2" data-bind="click: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="3" data-bind="click: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="4" data-bind="click: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">LG</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="click: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="2" data-bind="click: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="3" data-bind="click: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="4" data-bind="click: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                            </div>                        </div>                    </div>                </div>                <div class="form-group" data-bind="visible: layoutMode() == \'uneven\'">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_width">Vault Width</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="click: setVaultWidth.bind(6), css: vaultWidth() == \'6\' ? \'btn-active\': \'btn-default\'" href="#">Default (25%)</a>                            <a class="btn" data-bind="click: setVaultWidth.bind(7), css: vaultWidth() == \'7\' ? \'btn-active\': \'btn-default\'" href="#">30%</a>                            <a class="btn" data-bind="click: setVaultWidth.bind(8), css: vaultWidth() == \'8\' ? \'btn-active\': \'btn-default\'" href="#">33%</a>                            <a class="btn" data-bind="click: setVaultWidth.bind(9), css: vaultWidth() == \'9\' ? \'btn-active\': \'btn-default\'" href="#">37%</a>                            <a class="btn" data-bind="click: setVaultWidth.bind(10), css: vaultWidth() == \'10\' ? \'btn-active\': \'btn-default\'" href="#">42%</a>                            <a class="btn" data-bind="click: setVaultWidth.bind(12), css: vaultWidth() == \'12\' ? \'btn-active\': \'btn-default\'" href="#">50%</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_columns">Vault Columns</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="click: setVaultColumns.bind(2), css: vaultColumns() == \'2\' ? \'btn-active\': \'btn-default\'" href="#">12</a>                            <a class="btn" data-bind="click: setVaultColumns.bind(3), css: vaultColumns() == \'3\' ? \'btn-active\': \'btn-default\'" href="#">8</a>                            <a class="btn" data-bind="click: setVaultColumns.bind(4), css: vaultColumns() == \'4\' ? \'btn-active\': \'btn-default\'" href="#">6</a>                            <a class="btn" data-bind="click: setVaultColumns.bind(6), css: vaultColumns() == \'6\' ? \'btn-active\': \'btn-default\'" href="#">4</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_position">Vault Position</label>                    <div class="col-xs-24 col-sm-18">                        <label>                            <input type="Checkbox" data-bind="checked: isVaultAt(0), click: setVaultTo.bind(0)">                            <span data-bind="text: $root.activeText().vo_vault_first">First/Left</span>                        </label>                        <label>                            <input type="Checkbox" data-bind="checked: isVaultAt($root.characters().length), click: setVaultTo.bind($root.characters().length)">                            <span data-bind="text: $root.activeText().vo_vault_last">Last/Right</span>                        </label>                    </div>                </div>                <div class="form-group">                    <input type="button" class="btn pull-right" value="x" data-bind="click: toggleViewOptions" style="position:relative;">                </div>            </fieldset>        </form>    </div></div>';
//# sourceMappingURL=2.templates.js.map