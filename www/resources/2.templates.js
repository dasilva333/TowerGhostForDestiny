_.templates={},_.templates.aboutTemplate='<div>    <h2 style="margin-top:0;">Tower Ghost for Destiny        <br>Manage your gear anywhere</h2>    <p>        <strong>Version:            <span class="version">                <%= tgd.version %>            </span>        </strong>    </p>    <p>This is a hobby project by <a href="https://github.com/dasilva333/" target="_system">Richard Pinedo</a> and is not financed by or associated with Bungie. All information used on this app is the property of Bungie.</p>    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" style="margin:0; padding:0;">        <input type="hidden" name="cmd" value="_s-xclick">        <input type="hidden" name="hosted_button_id" value="5X265ELN4Y5FU">        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"> via Paypal to keep this project alive, other options available under the Donate page in Settings.        <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">    </form>    <h3>Current Features Supported:</h3>    <ul>        <li><a href="http://destinydb.com" target="_system">DestinyDB.com</a> tooltips option now display custom stats: perks, burn, level for armor and weapons</li>        <li>Loadouts sync across all devices via <a href="http://www.TowerGhostForDestiny.com" target="_system">www.TowerGhostForDestiny.com</a></li>        <li>Multiple primaries, special, heavy per loadout</li>        <li>Option to equip an item per type in your loadout</li>        <li>Equipping items &amp; transferring items across characters</li>        <li>Specify amounts of consumables/materials to transfer</li>        <li>Filter by Perk Name, Description, Gun Name</li>        <li>Filter by item progress</li>        <li>Filter by burn (Kinetic, Arc, Solar, Void)</li>        <li>Filter by weapon type (Scout, Auto, Hand Cannon, etc...)</li>        <li>Filter by Tier (Exotic, Legendary, Rare, etc...)</li>		<li>Filter by Armor (Hunter, Warlock, Titan, Weapons Equipped, Subclass Perks, Combined Stat Points)</li>        <li>Auto Refresh (every 5 minutes) toggle</li>		<li>Drag and drop and multi-select transfers supported</li>        <li>Inline light level values on the item icons</li>        <li>Filter by Weapons, Armor or General items</li>        <li>Supports dual-linked accounts to Xbox and Playstation</li>        <li>Change emblem dynamically</li>        <li>Distribute consumables/materials equally across characters (normalize)</li>        <li>Move all of a consumable/material to a character (consolidate)</li>		<li>Easy access to DestinyTracker, Guardian.GG, DestinyTrials and DestinyStatus Reports</li>    </ul>    <h3>Latest News and Info</h3>    <a href="https://twitter.com/TowerGhostApp" target="_system">Follow me on Twitter @TowerGhostApp</a>	<h3>Privacy Policy</h3>    <a href="http://towerghostfordestiny.com/index.php/privacy-policy/" target="_system">Read the policy</a>    <h3>Support and New Issues:</h3>    <p><a href="https://github.com/dasilva333/TowerGhostForDestiny" target="_system">Github.com</a> or Contact me on via email <a href="mailto:support@towerghostfordestiny.com">support@towerghostfordestiny.com</a></p></div>',_.templates.armorItemCreateTemplate='<div id="container_<%= id %>" class="form-group">	<div class="row" style="margin-top: 5px; margin-bottom:5px">		<div class="col-xs-6">			Armor Type		</div>		<div class="col-xs-18">			<select class="form-control" data-bind="options: tgd.DestinyArmorPieces, optionsCaption: \'--Select--\', value: $root.bucketType">							</select>		</div>	</div>	<div class="row" data-bind="visible: !_.isEmpty($root.bucketType())" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Item Type		</div>		<div class="col-xs-18">			<select class="form-control" data-bind="options: armorTypes, optionsCaption: \'--Select--\', value: $root.armorType">							</select>		</div>	</div>	<div class="row" data-bind="visible: $root.armorType() == \'Existing Item\'" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Character Name		</div>		<div class="col-xs-18">			<select class="form-control" data-bind="options: app.characters, optionsText: \'uniqueName\', optionsCaption: \'--Select--\', value: $root.selectedCharacter">							</select>		</div>	</div>	<div class="row" data-bind="visible: !_.isEmpty($root.selectedCharacter())" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Item Name		</div>		<div class="col-xs-18">			<select class="form-control" data-bind="options: availableCharacterItems, optionsText: \'uniqueDescription\', optionsCaption: \'Include all items\', value: $root.selectedExistingItem">							</select>		</div>	</div>		<div class="row" data-bind="visible: $root.armorType() == \'New Item\'" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Armor Name		</div>		<div class="col-xs-18">			<select class="form-control" data-bind="options: availableItems, optionsText: \'itemName\', optionsCaption: \'--Select--\', value: $root.selectedNewItem">							</select>		</div>	</div>	<div class="row" data-bind="visible:  !_.isEmpty($root.selectedNewItem())" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Light Level		</div>		<div class="col-xs-18">			<input type="text" class="form-control" data-bind="value: lightLevel">		</div>	</div>			<div class="row" data-bind="visible: !_.isEmpty($root.selectedNewItem())" style="margin-top: 5px; margin-bottom:5px; display:none">		<div class="col-xs-6">			Armor Stats		</div>		<div class="col-xs-18">			<div data-bind="foreach: { data: selectedStats, as: \'stat\' }">				<span data-bind="text: name"></span>				<input type="text" class="form-control" data-bind="value: value">			</div>		</div>	</div></div>',_.templates.armorTemplates='<ul>	<li>The <span style="color:green">green text</span> indicates the build has matching weapon perks.</li>	<li>The <span style="color:green">green border</span> indicates the stats should remain unchanged, <span style="color:red">red border</span> requires you to toggle the stats in game.</li>	<li>You may hold the image of an item to filter by builds that only contain that item.</li>	</ul><ul class="list-group">    <%_.each(builds, function(sets){ %>        <li class="list-group-item">			<%_.each(sets, function(build, index){ %>	            <div class="row" style="display:<%= index == 0 ? \'\' : \'none\' %>" id="<%= build.id + \'_\' + index %>">	                <div class="text-center col-xs-24 col-md-3">						<div class="col-xs-8 col-md-24" style="padding-bottom:5px;">		                    <input class="armorBuild form-control" name="armorBuild" type="radio" value="<%= build.statTiers + \'_\' + index %>">						</div>						<div class="col-xs-4 col-md-12">							<button class="prevCombo" style="display:<%= index > 0 ? \'\' : \'none\' %>"><span class="fa fa-chevron-left text-primary"></span></button>						</div>						<div class="col-xs-4 col-md-12">							<button class="nextCombo" style="display:<%= index < (sets.length-1) ? \'\' : \'none\' %>"><span class="fa fa-chevron-right text-primary"></span></button>						</div>						<div class="col-xs-8 col-md-24">							<%= (index + 1) + \'/\' + sets.length %>						</div>	                </div>	                <div class="text-left col-xs-24 col-md-21">	                    <div class="col-xs-12">	                        <span class="font-bold">Light</span>	                        <span class="text-primary"><%= build.light %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Score</span>	                        <span class="text-primary <%= build.similarityScore >= 6 ? \'text-success\' : \'\' %>"><%= build.score.toFixed(3) %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Stat Tiers</span>	                        <span class="text-primary"><%= build.statTiers %></span>	                    </div>	                    <div class="col-xs-12">	                        <span class="font-bold">Stat Values</span>	                        <span class="text-primary"><%= build.statValues %></span>	                    </div>	                    <div class="col-xs-24">	                        <% _.each(_.sortBy(build.set,\'bucketType\').reverse(), function(item){	%>	                            <a class="itemLink" itemId="<%= item.id %>" instanceId="<%= item._id %>" href="<%= item.href %>">									<img class="itemImage" src="<%= item.icon %>" style="border:1px solid <%= item.activeRoll.bonusOn == item.bonusStatOn() ? \'green\':\'red\' %>">								</a>	                            <%}) %>	                    </div>						<div class="col-xs-24" style="margin-top: 5px">							<% _.each(build.perks, function(perk){	%>								<div class="col-xs-12 font-smaller-1">									<% if (!isMobile){	%>										<img width="24" src="<%= perk.iconPath %>" class="perkImage"> 										<span class="text-muted"><%= perk.bucketType %>:</span>									<%} %>									<span class="text-primary"><%= perk.name %></span>								</div>							<%}) %>	                    </div>	                </div>	            </div>			<%}) %>        </li>        <%}) %></ul>',_.templates.confirmTransferTemplate='<div id="container_<%= id %>">	<div class="controls controls-row">		<span data-bind="text: app.activeText().transfer_amount"></span>:		<button class="btn btn-default" type="button" data-bind="fastclick: decrement">-</button> 		<input size="4" type="text" data-bind="value: materialsAmount" class="materialsAmount"> 		<button class="btn btn-default" type="button" data-bind="fastclick: increment">+</button> 		<button class="btn btn-default pull-right" id="all" type="button" data-bind="fastclick: all">			<span data-bind="text: app.activeText().transfer_all"></span>			(<span data-bind="text: characterTotal"></span>)		</button> 		<button class="btn btn-default pull-right" id="one" type="button" data-bind="fastclick: one, text: app.activeText().transfer_one"></button>	</div>	<div>		<hr>	</div>	<div class="controls controls-row">		<label>			<input id="consolidate" type="checkbox" data-bind="checked: consolidate"> 			<span data-bind="text: app.activeText().transfer_consolidate"></span>			( <span data-bind="text: itemTotal"></span> )		</label>		<br>		<label><input id="neverAsk" type="checkbox" data-bind="checked: app.autoXferStacks"><span data-bind="text: app.activeText().transfer_ask"></span></label>	</div></div>',_.templates.donateTemplate='<div id="donate">    <div class="panel panel-success">        <div class="panel-body">            <p data-bind="text: $root.activeText().donation_instructions">                This is a non-commercial project dedicated to Destiny. If you like this app provide a donation to keep this project alive and support the maintenance costs. Thank you.            </p>            <div class="btn-padding">                <div class="form-group">                    <a class="donatePaypal btn btn-secondary btn-block">                        <img src="assets/paypal.png">                    </a>                </div>                <div class="supportsIAB" style="display:none;">                    <div class="chromeWallet form-group text-center" style="display:none;">                        Donate now with Google Wallet                        <img src="assets/wallet.png" style="width:50%">                    </div>                    <div class="googlePlay form-group text-center" style="display:none;">                        Donate now with Google Play                        <img src="assets/google_play.png" style="width:50%">                    </div>                    <div class="appleIAP form-group text-center" style="display:none;">                        Donate now with Apple\'s In-App Purchase                        <img src="assets/in-app-purchase.png" width="80">                    </div>                    <hr>                    <div class="form-group">                        <a sku="small" class="donate btn btn-secondary btn-block">Small Donation</a>                    </div>                    <div class="form-group">                        <a sku="medium" class="donate btn btn-secondary btn-block">Medium Donation</a>                    </div>                    <div class="form-group">                        <a sku="large" class="donate btn btn-secondary btn-block">Large Donation</a>                    </div>                </div>            </div>        </div>    </div></div>',_.templates.farmhelpTemplate='<div class="help">	<p>		Farm Mode provides an easy way to automatically transfer incoming <i>Engrams, Rare and Uncommon items, and Glimmer Credit (Network Keys, Axiomatic Beads, House Banners, Silken Codex)</i> 		to the Vault as you play Strikes, Crucible or any activities where you earn this type of loot.		The idea is Farm Mode will keep the loot you earn in the Vault instead of the Post Master therefore being able to avoid getting full in the Post Master,		as well as the ability to easily transfer all your Engrams back to your characters easily.	</p>	<br>	<ol>		<li>First confirm you want Farm Mode to transfer the 4 item types by checking, unchecking the desired item types.</li>		<li>Next confirm the Vault has a green border indicating it\'s the active farm character</li>		<li>After clicking on the Play button the status should change to <strong>"Farm Mode Enabled"</strong>.</li>		<li>Once enabled all selected item types will be automatically transferred to the Vault when your inventory refreshes automatically or manually.</li>		<li>To transfer your engrams, blues, greens, etc. back to your character first stop Farm Mode so it says <strong>"Farm Mode Disabled"</strong>.</li>		<li>Once Farm Mode is disabled you may click on the character icon to transfer the items to it, a green border appears around that character.</li>		<li>Click Play, once enabled Farm Mode will use <strong>only your empty slots on your character</strong> to fill it with engrams, etc.</li>		<li>Once a slot becomes available again simply refresh or wait for it to refresh to have Farm Mode transfer the next available items to your character\'s empty slots.</li>		<li>Rinse and repeat, disable Farm Mode, set it to the Vault, and enable Farm Mode once again to continue playing activities while it collects your loot in the Vault</li>	</ol>		<p>Tip: You may lock Rare, and Uncommon items to prevent them from getting transferred to the Vault.</p></div>',_.templates.helpTemplate='<div class="help" id="help">	<ul class="nav nav-tabs">		<li class="active">			<a data-toggle="tab" href="#guides">Guides</a>		</li>		<li>			<a data-toggle="tab" href="#menu">Menu Options</a>		</li>		<li>			<a data-toggle="tab" href="#filters">Menu Filters</a>		</li>		<li>			<a data-toggle="tab" href="#viewoptions">View Options</a>		</li>		<li>			<a data-toggle="tab" href="#tooltips">Tooltip &amp; Stats</a>		</li>		<li class="dropdown">			<a class="dropdown-toggle" data-toggle="dropdown" href="#">More Topics <span class="caret"></span></a>			<ul class="dropdown-menu">				<li>					<a data-toggle="tab" href="#mats">Materials &amp; Consumables</a>				</li>				<li>					<a data-toggle="tab" href="#statdisplay">Character Options</a>				</li>			</ul>		</li>	</ul>	<div class="tab-content">		<div class="tab-pane fade active in" id="guides">			<p>				There are help guides written by the creator of Tower Ghost to allow users to understand some of the more advanced features available, included are images, graphics and detailed information.			</p>			<ul>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irno8/feature_sharing_and_viewing_arsenal_online/" target="_system">Sharing and Viewing Arsenal Online</a>				</li>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3inqkh/feature_transferring_items_with_tower_ghost/" target="_system">Transferring Items</a>				</li>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irm1y/feature_transfer_methods_available_in_tower_ghost/" target="_system">Transfer Methods Available</a>				</li>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3imt9m/feature_tower_ghost_for_destiny_tooltips/" target="_system">Understanding the Tooltips</a>				</li>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3irqst/feature_using_the_filters_quickly_and_effectively/" target="_system">Using the filters quickly and effectively</a>				</li>				<li>					<a href="https://www.reddit.com/r/TowerGhostForDestiny/comments/3nlua1/feature_using_the_stats_tool_effectively/" target="_system">Using the stats tool effectively</a>				</li>			</ul>		</div>		<div class="tab-pane fade" id="menu">			<p>				These are the options you can find by clicking on the cog icon (<i class="fa fa-cog"></i>) on the top right corner of the app.<br>			</p>			<ul>				<li>					<h3>						Account Options					</h3>				</li>				<li>					<strong>Logout</strong> Logs you out of Bungie.net allowing you to view your arsenal with a different account.				</li>				<li>					<strong>PSN Login</strong> Opens the login page for the Playstation Network sign in, useful if your password changed.				</li>				<li>					<strong>Live Login</strong> Opens the login page for the Windows Live sign in, useful if your password changed.				</li>				<li>					<strong>Use Playstation Account</strong> Only visible if two accounts linked to your Bungie.net account.				</li>				<li>					<strong>Use Xbox Account</strong> Only visible if two accounts linked to your Bungie.net account.				</li>				<li>					<h3>						Other Options					</h3>				</li>				<li>					<strong>Clear Filters</strong> Resets all the filters back to their default state.				</li>				<li>					<strong>About</strong> Displays information about the app and the author.				</li>				<li>					<strong>Donate</strong> Paypal link to support the cause and keep the project alive.				</li>				<li>					<h3>						Web Options					</h3>				</li>				<li>					<strong>Share URL with friends</strong> Provides a custom link with your gamer tag to be able to share your inventory with friends online.				</li>				<li>					<strong>DestinyStatus Report</strong> Opens a new page that allows you to see the current progress of all your characters.				</li>				<li>					<strong>DestinyTrials Report</strong> Opens a new page that allows you to see your ranking in Trials of Osiris.				</li>				<li>					<strong>Guardian.GG Report</strong> Opens a new page that allows your ranking in all Crucible game types.				</li>				<li>					<strong>DestinyTracker Report</strong> Opens a new page that allows you to see the current progress of all your characters, your crucible ranks, and much more.				</li>			</ul>		</div>		<div class="tab-pane fade" id="filters">			<p>				These are the filters available for the app, in a wide screen they should be available at the top, otherwise you may use the cog icon (<i class="fa fa-cog"></i>) and scroll down to find these filters for your weapons, armor and general items.			</p>			<ul>				<li>					<strong>View</strong> Toggle between different views first page is Weapons, second page is Armor, third page is General				</li>				<li>					<strong>Tier</strong> Filter by the rarity of the item (rare, legendary, exotic)				</li>				<li>					<strong>Set</strong> Preset collections from various activiies in Destiny for an easy to filter list				</li>				<li>					<strong>Show Missing Items</strong> When a Set is enabled use this to show you what items you\'re missing from that set.				</li>				<li>					<strong>Progress</strong> <em>Missing Perks:</em> Items that do not have their perks completely filled.				</li>				<li>					<strong>Progress</strong> <em>Missing XP:</em> Items that have been completely filled with perks but are missing the gold border.				</li>				<li>					<strong>Progress</strong> <em>Maxed:</em> Items that have gold borders only.				</li>				<li>					<strong>Damage</strong> Filter by burn type, kinetic is the default burn applied to all weapons if it\'s not arc, void or solar.				</li>				<li>					<strong>Weapon</strong> Filter by type of weapon, this list will only show types you have in your inventory.				</li>				<li>					<strong>Search Box</strong> Filter by the name of the item, or the name of the perk, or the description in the perk, even if the perk is not active. Also allows you to filter by light level, you may type 280 to find items only at light level 280, you may also use &gt;280 to find anything higher or &lt;280 for items below 280.				</li>				<li>					<h3>						Armor Options					</h3>				</li>				<li>					<strong>Armor Type</strong> Filter by different armor types available such as helmet, chest and boots.				</li>				<li>					<strong>Filter By Weapons Equipped</strong> Filter for armor such a gauntlets and boots that has matching perks to the weapons you have equipped.				</li>				<li>					<strong>Filter By Subclass Equipped</strong> Filter for armor such a gauntlets and boots that has matching perks to the subclass you have equipped.				</li>				<li>					<strong>View By Light Level</strong> Default View, displays the amount of light in an item in the corner stat.				</li>				<li>					<strong>View By Combined Stat Points</strong> Displays the number of total skill points combined in the corner stat, so if a helmet has 50 int and 50 dis then it has 100 combined stat points..				</li>			</ul>		</div>		<div class="tab-pane fade" id="viewoptions">			<p>				You may find these options by visiting the <i>View</i> menu filter and clicking on <i>View Options</i> at the bottom. Once opened the controls for adjusting the view are displayed inline at the top of the app.			</p>						<ul>				<li>					<strong>Container Width</strong> This option allows you to control how wide you would like the overall container to be, the default option ensures proper padding on both sides for large displays, this option will not affect the layout for most mobile displays but will work for most tablet displays.				</li>				<li>					<strong>Vault Mode</strong> The default option ensures that the Vault column is always as wide as all the other columns, setting it to Custom allows you to make the Vault column wider, do note that this option will not affect mobile displays only tablets and desktops.				</li>				<li>					<strong>Vault Width</strong> This option is only available under "Custom" Vault Mode, setting this option will make the Vault column wider than the default 25%.				</li>				<li>					<strong>Number of Columns</strong> This option is only available under "Default" Vault Mode, this option works as a matrix of column modes depending on your display.<br>					Each row has a designated tag (xs,sm,md,lg) they are ordered from smallest display to largest so mobile displays use xs portrait and sm landscape. Desktop displays most likely use md or lg tag, each tag is dependent upon your resolution so 1 or 2 out of the 4 rows only apply to your device. Example: You have a mobile display that currently shows 1 column portrait (xs) and 2 columns landscape (sm) and you\'d like to change it to 1/3, what you do is set the second row (sm) to 3 so it\'ll display 1 | 3 | 3 | 4 instead of 1 | 2 | 3 | 4 buttons selected.				</li>				<li>					<strong>Vault Columns</strong> This option allows you to choose how many columns of items you want to see for the Vault profile, the default is 4 with the option of fitting more icons per row as the number goes up.				</li>				<li>					<strong>Vault Position</strong> First/Left - The vault is displayed first on mobile, on the left side for wide displays. Last/Right - The vault is ordered last or on the right side for wide displays.				</li>			</ul>		</div>		<div class="tab-pane fade" id="tooltips">			<p>				Reference information regarding the tooltip stats and stat rolls.			</p>			<ul>				<li>					<strong>Stats Format for Weapons</strong>				</li>				<li>					{Label} {Current} [Bar Represent\'s the {Base/Current} values] {Min/Max}				</li>				<li>					<strong>Current</strong> - The item\'s current stat point for that weapon. 				</li>				<li>					<strong>Base/Current</strong> - The item\'s current base stat points with no perks applied, and the item\'s stat point currently active. 				</li>				<li>					<strong>Min/Max</strong> - The item\'s lowest and highest possible values the stat can reach. 				</li>				<li>					<br><br>					<strong>Stats Format for Armor</strong>				</li>				<li>					{Label} {Stat1}-{Stat2} [Bar Represent\'s the {Current/Max} values] {Max Light Stats}				</li>				<li>					<strong>Stat1, Stat2</strong> - The item\'s current stats, the bold number indicates the active stat, the normal font indicates the other stats when the stat nodes are toggled in game.				</li>				<li>					<strong>CurrentMax Bar Graph</strong> - The item\'s current stat point for that skill and the max possible points possible for that item type. 				</li>				<li>					<strong>Max Light Stats</strong> - The item\'s future stats once the item is infused to max light level.				</li>				<li><h3>Stat Roll</h3></li>								<li>The stat values (Int/Dis/Str) increase in relation to the item\'s light level and preset bonus points at certain light level break points.				</li>								<li>There is two key indicators for the item\'s stat roll, the Quality row and the Stats Total row.</li>								<li>Row format for Quality: {Percentage for base-points/max-base-points} (base stat points / max base stat points)</li>								<li>Row format for Stats Total: {Current Item CSP}(Leveled Item CSP) Infusible to: {max csp}/{perfect roll}</li>								<li>Current Item CSP - The total number of points the item currently has, if the item is new and the stat nodes have not been unlocked					then an additional number will appear to it in parentheses to indicate how many points it\'ll have once leveled with XP.				</li>								<li>Leveled Item CSP - The total number of points the item will have once the stat node has been leveled and unlocked.</li>								<li>Max CSP - The total number of points the item will have once infused to 335 including bonus points for unlocking the stat node</li>								<li>Perfect Roll - The most number of points any item of this type will be able to achieve.</li>												<li>					<strong>Color Legend</strong> - The color of the text and background of an armor item indicates the quality of the armor.				</li>				<li>If the stat roll color is <span class="GoodRollText">green</span> then it meets or exceeds the minimum required to reach a T12 build (96.15%+)				</li>				<li>If the stat roll color is <span class="OkayRollText">yellow</span> then it is upto 4 points below the minimum, enough to reach a T11 build (92-96%+)				</li>				<li>If the stat roll color is <span class="BadRollText">red</span> then the stat roll is below the required minimum to reach T11 or T12 armor distribution. (0-91%)				</li>			</ul>		</div>		<div class="tab-pane fade" id="mats">			<p>				These options are available from the <strong>General</strong> view. Once in the General view simply click any Material or Consumable item and an icon labelled Extras will allow you access these options.			</p>			<ul>				<li>					<strong>Normalize</strong> Equally distribute consumables/materials across selected characters.				</li>				<li>					<strong>Consolidate</strong> Move all of a certain consumable/material to a character.				</li>				<li>					<strong>Don\'t ask again</strong> Enables Auto Transfer Stacks in Settings bypassing the prompt every time.				</li>			</ul>		</div>		<div class="tab-pane fade" id="statdisplay">			<p>				This is the stat tool display available by clicking on the double down arrow (<i class="fa fa-angle-double-down font-larger-4"></i>) next to the character\'s light level.			</p>			<ul>				<li>					More information can be found under <strong>Guides</strong> <i>Using the stats tool effectively</i>				</li>				<li>					<strong>Tier Stats</strong> <img src="assets/stat%20tiers.png">				</li>				<li>					<ul>						<li>							<strong>Effective Tier</strong> Effective tier is the current number of skill tiers achieved with your armor						</li>						<li>							<strong>Theoretical Tier</strong> Theoretical tier is the potential number of skill tiers you can achieve if stat points distributed differently						</li>						<li>							<strong>Sum CSP</strong> Total number of skill stat points for all the armor you have equipped on that character						</li>						<li>							<strong>Tier CSP</strong> Total number of points needed to reach the theoretical tier, Tier 10 for example requires 600 points (60 per Tier, 10 Tiers)						</li>						<li>							<strong>Potential CSP</strong> The calculated number of stat points the armor will reach once infused to the highest current light level.						</li>					</ul>				</li>								<li>					<strong>Light</strong> Equip the armor and weapons with the most Light points from any character or vault.				</li>				<li>					<strong>Skill (Int/Disc/Str)</strong> Optimize armor for Tier 5 for that skill, ensure skill doesn\'t go too much over 300 points, if so it will automatically reduce the skill to arond 300 and buff the other stats.				</li>				<li>					<strong>Points</strong> Optimize armor for the set that contains the most combined stat points.				</li>				<li>					<strong>Character</strong> Analyzes all your armor in your inventory to find the highest tier sets you can currently create.				</li>				<li>					<strong>Top 3</strong> Similar to Character except it only considers the top 3 pieces of armor per bucket type ordered by CSP (combined stat points), this is useful for when you have a lot of armor and the other one takes longer to complete.				</li>				<li>					<strong>Custom</strong> Allows you to explore armor sets to find the highest tier sets you can currently create.				</li>				<li>					<strong>T12 Build</strong> Allows you to explore armor sets available that reach the max tier possible in game.				</li>				<li>					<strong>Equipped</strong> Displays a list of armor distributions available for your currently equipped armor.				</li>				<li>					<strong>Minus Other</strong> Displays a list of armor distributions available for your armor minus the other items (Artifact, Class Item, Ghost). This option is useful if you\'re set on having the right Helmet, Gauntlet, Chest or Boots but are open to switching to a different Ghost for example to better improve your stat distribution.				</li>			</ul>		</div>	</div></div>',_.templates.itemPerkTreeTemplate='<div id="container_<%= id %>" class="form-group">    <div data-bind="foreach: { data: perkTree, as: \'column\' }" class="row perkTree">        <div data-bind="foreach: { data: column, as: \'perk\' }" class="col-xs-24 perkColumn"> <!--, css: \'col-xs-\' + Math.floor(tgd.bootstrapGridColumns / $parent.perkTree.length)-->            <div class="row">                <div class="col-xs-5 text-center">                    <img class="img-circle" data-bind="itemImageHandler: \'data/\' + perk.icon, attr: { title: perk.nodeStepName }, style: { backgroundColor: perk.node.isActivated ? \'cadetblue\' : \'\' }">                </div>                <div class="col-xs-19">                    <h5 data-bind="text: perk.nodeStepName"></h5>                    <p data-bind="text: perk.nodeStepDescription"></p>                </div>            </div>                    </div>    </div></div>',_.templates.manageLoadoutsTemplate='<div id="container_<%= id %>" class="container-fluid">	<div class="col-xs-24 well well-sm">		Manage Loadouts For: 		<select style="width: 150px" class="form-control" data-bind="options: _.filter($root.orderedCharacters(),function(c){ return c.id != \'Vault\'; }), optionsText: \'uniqueName\', optionsValue: \'id\', value: characterId, optionsCaption: \'Global Menu\'">		</select>	</div>	<br><br>	<div class="col-xs-24">		<ul data-bind="foreach: { data: loadouts, as: \'loadout\' }" class="list-group">			<li class="list-group-item" data-bind="visible: loadout.characterId() == $root.characterId() || (_.isEmpty($root.characterId()) && _.isEmpty(loadout.characterId()))">				<div class="row">					<span class="fa fa-bars" style="cursor:pointer"></span>					<span data-bind="text: name" class="list-group-item-heading"></span>				</div>				<div class="row form-control-static" data-bind="visible: editing() == true" style="display:none;">					<input type="text" data-bind="value: name" class="form-control">				</div>				<div class="row">					<div class="btn-group btn-group-justified">						<a href="#" class="btn btn-default btn-sm" data-bind="fastclick: loadout.rename">Rename</a>						<a href="#" class="btn btn-default btn-sm" data-bind="fastclick: loadout.remove">Delete</a>						<a href="#" class="btn btn-default btn-sm" data-bind="fastclick: $root.equip.bind(loadout)">Equip</a>						<a href="#" class="btn btn-default btn-sm" data-bind="fastclick: loadout.sortUp, css: $root.isDisabled(\'up\', $context, name())"><i class="fa fa-chevron-up"></i></a>						<a href="#" class="btn btn-default btn-sm" data-bind="fastclick: loadout.sortDown, css: $root.isDisabled(\'down\', $context, name())"><i class="fa fa-chevron-down"></i></a>					</div>				</div>				<div data-bind="foreach: { data: loadout.items, as: \'item\' }" class="row">					<div class="col-xs-8 col-sm-6 col-md-4 col-lg-3">						<a class="itemLink" data-bind="attr: { itemId: item.id, instanceId: item._id, href: item.href }, fastclick: function(){ return false }">							<img class="itemImage" data-bind="itemImageHandler: item.icon, css: (item && item.bonusOn ? (item.bonusOn == item.bonusStatOn() ? \'active\' : \'inactive\') : \'\')" style="padding: 2px; width:48px;">						</a>					</div>				</div>			</li>		</ul>	</div></div>',
_.templates.maxLightTemplates='<div id="container_<%= id %>">	<p data-bind="visible: type == \'MaxLight\'" style="display:none;">		This tool is meant as a planner to help guide you in finding what gear to invest your time and resources in infusing to achieve your desirable stat distributions.<br>	</p>	<p data-bind="visible: type == \'Custom\'" style="display:none;">		This tool is meant as an explorer to help you in finding what gear you can mix and match to achieve your desirable stat distributions.<br>	</p>	<hr>	<div data-bind="visible: foundFirstSet().length == 0 && type == \'MaxLight\'" style="display:none;">		Currently this character does not have any armor that can be infused to <span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span> and provide		enough stat points to reach tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span>.<br>				Provided below is the best scoring armor set this character has, for each item the following details are provided:		<ul>			<li><strong>first number</strong> indicates how many points the item currently has</li>			<li><strong>second number</strong> indicates how many points an item with a perfect stat roll has</li>			<li><strong>third percentage</strong> indicates the item\'s total potential compared to a perfect stat roll once infused to max light level</li>		</ul>		<div data-bind="with: firstSet">			Currently this gear (once a certain piece is replaced) is <span class="label label-default" data-bind="text: (tgd.maxTierPointsPossible - score.toString().split(\'.\')[1])"></span> points away from reaching max tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span>.			Please ensure that your armor pieces are all at least <span class="label label-default" data-bind="text: app.minAvgPercentNeeded"></span>% to be able to use this tool.<br>						<strong>Score</strong>: <span data-bind="text: score"></span><br>			<strong>Tiers</strong>: <span data-bind="text: statTiers"></span><br>			<strong>Stats</strong>: <span data-bind="text: statValues"></span><br>			<strong>Average Armor Stat Roll</strong>: <span data-bind="html: avgRoll"></span>%<br>			<hr>			<div data-bind="foreach: { data: set, as: \'item\' }" class="row">				<div class="col-xs-8 col-md-6 col-sd-4 col-lg-3">					<div class="col-xs-24">						<a class="itemLink" data-bind="attr: { itemId: item.id, instanceId: item._id, href: item.href }">							<img class="itemImage" data-bind="fastclick: function(){ return false }, itemImageHandler: item.icon, style: { border: \'2px solid \' + (item.getValue(\'MaxLightPercent\') >= app.minAvgPercentNeeded() ? \'green\' : \'red\')}" style="padding: 2px; width:48px;">						</a>											</div>					<div class="col-xs-24 font-smaller-2" style="padding-top:3px;">						<span data-bind="text: item.getValue(\'MaxLightCSP\')"></span> / <span data-bind="text: item.getValue(\'MaxLightPercent\')"></span>% <br>						<span data-bind="text: item.statText"></span>					</div>				</div>			</div>		</div>	</div>	<div data-bind="visible: foundFirstSet().length > 0 || type == \'Custom\'" style="display:none;">		<div data-bind="visible: type == \'MaxLight\'" style="display:none;">			The gear listed within has the <strong>highest potential to reach tier <span class="label label-default" data-bind="text: tgd.maxTierPossible">{11}</span> 			at <span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span> Light Level</strong>.			From the selected items the <span class="label label-default" data-bind="text: unleveledBucketTypes">{Helmets, Boots, Chest}</span> are still not 			<span class="label label-default" data-bind="text: tgd.DestinyLightCap">{320}</span>. 		</div>		<div>			Click on View Help for usage information on how this tool works. <input type="button" class="btn btn-info" value="View Help" data-bind="fastclick: function(){ $(\'.maxLightHelp\').toggle(); }">			<hr>		</div>		<div class="maxLightHelp" style="display:none;">			<h5>Values &amp; Numbers</h5>			The <strong>first number</strong> listed indicates how many points the item currently has <br>			The <strong>second percentage</strong> indicates it\'s total potential compared to a perfect stat roll once infused to max light level.<br>			The <strong>second line</strong> indicates the stats available on the item<br>			<h5>Legend for Borders</h5>			<strong>Blue Border</strong> - Indicates it is one of the items listed in the possible combinations table.<br>			<strong>Green Border</strong> - Indicates the item is currently selected.<br>			<span data-bind="visible: type == \'MaxLight\'" style="display:none;"><strong>Red Border</strong> - Indicates the item cannot be used to maintain the current max tier.<br></span>			<strong>Yellow Border</strong> - Indicates the item is a potential candidate that may be used to alter your set.<br>			<div data-bind="visible: type == \'Custom\'">				<h5>Toolbar Buttons</h5>				<strong>Auto Select</strong> - Automatically selects the gear with the [Most Points] or the gear currently <strong>[Equipped]</strong> to view the best possible stat distributions.<br>				<strong>Other Armor</strong> - Defined as Class Items, Artifacts and Ghosts, setting it to <strong>[Any]</strong> provides more stat distribution options, setting it to <strong>[Most Points]</strong> picks the items with the most CSP.<br>				<strong>Add Armor</strong> - These buttons will allow you to add items outside of your inventory to this comparison tool.<br>				<strong>Vendor Items</strong> - This button will automatically query the current armor items available at the Tower and include it alongside your armor, a yellow line indicates the item is from a Vendor, the tooltip indicates which vendor the item can be bought from, the vendor armor stock refreshes every week so check this page every Tuesday for updated stat rolls, includes stock from Xur and Lord Saladin when available.<br>				<strong>Custom Item</strong> - This button allows you to add a custom item to the tool, you may choose between adding an existing custom item found in another character or adding a new fake custom item to simulate certain conditions.			</div>			<strong>Tip</strong> You may also unselect an item with a green border to indicate you want the tool to calculate all items for that armor type.			<hr>		</div>		<div class="col-xs-24 font-smaller-1" data-bind="visible: type == \'Custom\'">			<div class="row">				<div class="col-xs-4 font-bold">					View Stats				</div>				<div class="col-xs-8">					<input type="button" class="btn btn-sm" value="Current" data-bind="fastclick: setView, css: activeView() == \'Current\' ? \'btn-active\' : \'btn-default\'">					<input type="button" class="btn btn-sm" value="Future" data-bind="fastclick: setView, css: activeView() == \'Future\' ? \'btn-active\' : \'btn-default\'">				</div>				<div class="col-xs-4 font-bold">					Auto Select				</div>				<div class="col-xs-8">					<input type="button" class="btn btn-sm btn-default" value="Equipped" data-bind="fastclick: setSelection">					<input type="button" class="btn btn-sm btn-default" value="Points" data-bind="fastclick: setSelection">				</div>						</div>			<div class="row" style="margin-top:5px">				<div class="col-xs-4 font-bold">					Other Armor				</div>				<div class="col-xs-8">					<input type="button" class="btn btn-sm btn-default" value="Any" data-bind="fastclick: setOtherArmor">					<input type="button" class="btn btn-sm btn-default" value="Points" data-bind="fastclick: setOtherArmor">				</div>				<div class="col-xs-4 font-bold">					Add Armor				</div>				<div class="col-xs-8">					<input type="button" class="btn btn-sm btn-default" value="Vendor Items" data-bind="fastclick: addVendorArmor, disable: $root.vendorArmorQueried">					<input type="button" class="btn btn-sm btn-default" value="Custom Item" data-bind="fastclick: addCustomItem">				</div>			</div>			<hr>		</div>		<div>			<table class="table table-striped table-hover ">				<thead>					<tr class="font-bold">					  <th class="col-xs-3">#</th>					  <th class="col-xs-4">Score</th>					  <th class="col-xs-3">Stats</th>					  <th class="col-xs-3">Tiers</th>					  <th class="col-xs-11">Perks</th>					</tr>				</thead>				<tbody data-bind="foreach: { data: maxSets, as: \'combo\' }">					<tr data-bind="attr:{id:\'details_\'+combo.id}">					  <td class="col-xs-3">							<input type="Button" class="btn btn-sm btn-default" value="View" data-bind="fastclick: function(){ $(\'#armor_\' + combo.id).show(); $(\'#details_\' + combo.id).hide(); }">							<input type="Button" class="btn btn-sm btn-default" value="Save" data-bind="fastclick: $root.saveSelectedCombo.bind(combo), visible: $root.maxSets().length > 1" style="display:none;">							<input type="Button" class="btn btn-sm btn-default" value="Equip" data-bind="fastclick: $root.equipSelectedCombo.bind(combo), visible: $root.maxSets().length > 1" style="display:none;">					  </td>					  <td class="col-xs-4" data-bind="text: combo.score"></td>					  <td class="col-xs-3" data-bind="html: combo.statValues"></td>					  <td class="col-xs-3" data-bind="html: combo.statTiers" width="60"></td>					  <td class="col-xs-11">						<div data-bind="foreach: { data: combo.perks, as: \'perk\' }">							<div class="font-smaller-1">								<span data-bind="visible: !isMobile" style="display:none;">									<img width="24" data-bind="itemImageHandler: perk.iconPath" class="perkImage"> 									<span class="text-muted" data-bind="text: perk.bucketType"></span>:								</span>								<span class="text-primary" data-bind="text: perk.name"></span>							</div>						</div>					  </td>					</tr>					<tr style="display:none" data-bind="attr:{id:\'armor_\'+combo.id}">						<td colspan="5">							<div class="col-xs-4">								<input type="Button" class="btn btn-sm btn-default" value="Hide" data-bind="fastclick: function(){ $(\'#armor_\' + combo.id).hide(); $(\'#details_\' + combo.id).show(); }">								<input type="Button" class="btn btn-sm btn-default" value="Help" data-bind="fastclick: function(){ $(\'#help_\' + combo.id).toggle(); }">							</div>							<div class="col-xs-20" data-bind="foreach: { data: combo.set, as: \'item\' }">								<div class="col-xs-8 col-sm-6 col-md-4 col-lg-3">									<a class="itemLink" data-bind="attr: { itemId: item.id, instanceId: item._id, href: item.href }, fastclick: function(){ return false }">										<img class="itemImage" data-bind="itemImageHandler: item.icon, style: { border: \'2px solid \' + (item.bonusStatOn() == item.activeRoll.bonusOn ? \'green\' : \'orange\') }" style="padding: 2px; width:48px;">									</a><br>									<span class="font-smaller-2 label label-default" style="white-space: nowrap; padding: 0;" data-bind="text: item.statText"></span>								</div>							</div>							<div class="col-xs-24" style="display:none;" data-bind="attr:{id:\'help_\'+combo.id}">								<strong>Orange Border</strong> - Need to manually toggle the stats to the other node in-game.<br>														<strong>Green Border</strong> - Item is set up properly to achieve those stat distributions provided.							</div>						</td>					</tr>					<tr style="display:none"><td></td></tr>				</tbody>			</table>		</div> 		<div data-bind="foreach: { data: armorGroups, as: \'armor\' }">			<div class="panel panel-default">			  <div class="panel-heading">			  	<span data-bind="text: armor.bucketType"></span> 				<span data-bind="with: armor.selectedItem">					(<span data-bind="text: description"></span>)				</span>			  </div>			  <div class="panel-body">					<div class="row" data-bind="foreach: { data: armor.items, as: \'item\' }">						<div class="col-xs-8 col-sm-6 col-md-4 col-lg-3">							<div class="col-xs-24">								<a class="itemLink" data-bind="css: item.css2, attr: { itemId: item.id, instanceId: item._id, href: item.href }, fastclick: select">									<img class="itemImage" data-bind="itemImageHandler: item.icon, css: item.css" style="padding: 2px;">								</a>							</div>							<div class="col-xs-24 font-smaller-1" data-bind="css: item.cspClass() + \'Text\', style: { \'border-bottom\': \'1px solid \' + (_.has(item,\'isVendor\') ? \'yellow\' : \'transparent\') }" style="padding-top:3px;">								<div style="white-space:nowrap"><span data-bind="text: item.getValue(tgd.armorSelectionFields[$root.activeView()].valueType)"></span>/<span data-bind="text: item.getValue(\'MaxLightPercent\')"></span>%</div>								<span class="font-smaller-2 label label-default" style="white-space: nowrap; padding: 0;" data-bind="text: item.statText"></span>							</div>						</div>					</div>			  </div>			</div>		</div>	</div>	</div>	',_.templates.normalizeTemplate='<div id="container_<%= id %>">	<div id="menu">		<div class="panel list-group">			<div class="list-group-item row">				<div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">					<p>Normalize: equally distribute <span data-bind="text: item.description"></span> across the selected characters</p>				</div>				<div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">					<p>Consolidate: Transfer all quantities of <span data-bind="text: item.description"></span> across the selected characters to this character.</p>				</div>			</div>			<div class="collapse in">				<div class="list-group-item row">					<div class="locations col-xs-24 col-sm-24 col-md-24 col-lg-24">						<div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">							<div class="attkIcon">								<img data-bind="itemImageHandler: item.icon" style="width:100%">								<div class="lower-left" data-bind="text: total">								</div>							</div>						</div>						<div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">							<!-- padding -->						</div>						<span data-bind="foreach: { data: characters, as: \'character\' }">							<div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">								<div class="attkIcon" data-bind="fastclick: $root.setSelectedCharacter.bind(character)">									<div class="icon-banner" data-bind="text: character.classType()"></div>									<img data-bind="itemImageHandler: character.icon, style: { border: \'2px solid \' + ($root.selectedCharacters().indexOf(character) > -1 ? \'yellow\' : \'white\') }" style="width:100%;">									<div class="lower-left" data-bind="text: character.classLetter()"></div>								</div>							</div>						</span>					</div>				</div>			</div>		</div>	</div></div>',_.templates.perksTemplate='<div class="destt-talent">    <% perks.forEach(function(perk){ %>        <div class="destt-talent-wrapper">            <div class="destt-talent-icon">                <img src="<%= perk.iconPath %>" data-name="<%= perk.name %>" width="36">            </div>            <div class="destt-talent-description" style="color: <%= perk.active == true ? \'white\' : \'gray\' %>">                <%= perk.description %>            </div>        </div>        <% }) %></div>',_.templates.selectMultiCharactersTemplate='<div id="container_<%= id %>">    <div class="panel list-group">        <div class="list-group-item row">            <div class="item-name col-xs-24 col-sm-24 col-md-24 col-lg-24">                <p data-bind="text: description">                </p>            </div>        </div>        <div id="opt1" class="collapse in">            <div class="list-group-item row">                <div class="locations col-xs-24 col-sm-24 col-md-24 col-lg-24">                    <div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">                        <!-- padding -->                    </div>					<div data-bind="foreach: { data: characters, as: \'character\' }">						<div class="move-button col-xs-4 col-sm-4 col-md-4 col-lg-4">                            <div class="attkIcon" data-bind="fastclick: $root.setSelectedCharacter.bind(character)">                                <div class="icon-banner" data-bind="text: character.classType()"></div>								<img data-bind="itemImageHandler: character.icon, style: { border: \'2px solid \' + ($root.selectedCharacters().indexOf(character) > -1 ? \'yellow\':\'white\')}">								<div class="lower-left" data-bind="text: character.classLetter()"></div>                            </div>                        </div>					</div>                </div>            </div>        </div>    </div></div>',_.templates.settingsTemplate='<div id="container_<%= id %>" class="form-horizontal settingsContainer">	<div class="form-group">		<label class="text-left col-xs-18 col-md-4">			Auto Refresh		</label>		<div class="col-xs-6 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: doRefresh">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Enable this option to automatically refresh your inventory on a timed interval.		</div>	</div>	<div class="form-group" data-bind="visible: doRefresh">		<label class="text-left col-xs-16 col-md-4">			Refresh Interval		</label>		<div class="col-xs-8 col-md-3">			<input type="text" class="form-control" data-bind="value: refreshSeconds">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			This option allows you to control how often in seconds the inventory should be refreshed, decreasing the interval will allow farm mode to automatically transfer newly acquired loot to your vault without manual intervention.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-12 col-md-4">			Language		</label>		<div class="col-xs-12 col-md-3">			<select class="form-control" data-bind="options: tgd.languages, optionsText: \'description\', optionsValue: \'code\', optionsCaption: \'--Select--\', value: activeLocale">			</select>		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Setting the language will automatically change the menu labels as well as the descriptions for the items. Warning changing the language to anything non-English might result in issues using certain advanced features.		</div>	</div>		<div class="form-group">		<label class="text-left col-xs-18 col-md-4">			Tooltips on hover		</label>		<div class="col-xs-6 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: tooltipsEnabled">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Enable this option to display a tooltip about the item on hover (if disabled or on a mobile device you may hold tap/click to display the tooltip, release the tap for it to hide)		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-18 col-md-4" data-bind="text: $root.activeText().menu_advancedtooltips">			Advanced Tooltips		</label>		<div class="col-xs-6 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: advancedTooltips">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Enable this option to show more information in the tooltips such as perks, stats and stat rolls.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-18 col-md-4" data-bind="text: $root.activeText().menu_autotransfer">			Auto Transfer Stacks		</label>		<div class="col-xs-6 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: autoXferStacks">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Enable this option to automatically transfer items that stack (such as Heavy Synth) without a confirmation prompt.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-16 col-md-4" data-bind="text: $root.activeText().menu_padheight">			Auto Pad Height		</label>		<div class="col-xs-8 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: padBucketHeight">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			This option will ensure that all the sections such as Helmet and Chest line up evenly with extra white space padding at the bottom.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-16 col-md-4">			Drag and Drop		</label>		<div class="col-xs-8 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: dragAndDrop">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Recommended for desktops and tablets not for mobile devices, allows you to use your pointer to transfer and equip items by dragging it across characters.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-16 col-md-4">			Farm Mode Controls		</label>		<div class="col-xs-8 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: farmViewEnabled">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Enables a control panel on the top of the app that allows you to quickly and easily transfer engrams and other items to the vault during farming runs like Strikes or Crucible.<br>			Note: Visit the dedicated Help section in Farm Mode controls for more information.		</div>	</div>	<div class="form-group">		<label class="text-left col-xs-16 col-md-4">			Auto Updates		</label>		<div class="col-xs-8 col-md-3">			<input type="checkbox" class="form-control" data-bind="checked: autoUpdates">		</div>		<hr class="visible-xs-block col-xs-24">		<div class="font-italic col-xs-24 col-md-17">			Once enabled the app will automatically check with <i>TowerGhostForDestiny.com</i> for version updates every time it\'s opened, toggle this setting off and on to if the app is not updating anymore.		</div>	</div>	<p><strong>Tip</strong> You may also visit the <i>View</i> menu option to adjust the visual look of the app including icon sizes, columns, container size and more.</i></div>',_.templates.statsTemplate='<div class="destt-stat">	<% if ( armorIndex > -1 ){ %>		<% if ( statPerks.length > 0 && primaryValues.Default < tgd.DestinyLightCap && primaryValues.Default > 3 ){ %>			<div class="font-smaller-2 clearfix" style="display: <%= app.advancedTooltips() ? \'block\' : \'none\'  %>">				<div class="pull-right">					Max Light				</div>			</div>		<% } %>	    <% keys.forEach(function(key){ if((stats[key] == 0 && statPerks.length == 0)||primaryValues.Default==3){ return } %>	        <div class="stat-bar">	            <div class="stat-bar-label <%= bonusStatOn == key ? \'active\' : \'inactive\'  %>">	                <%= key %>	            </div>				<div class="stat-bar-static-value">					<%= _.filter(_.map(rolls, function(roll) { var isActive = roll.bonusOn == bonusStatOn || (bonusStatOn == \'\' && roll.bonusOn !== key), rollClass = isActive ? "active" : "inactive", rollElement = $(\'<span><span></span></span>\').find("span").addClass(rollClass).html(roll[key]).parent().html(); return (isActive || (!isActive && app.advancedTooltips())) ? rollElement : \'\'; }),function(e){ return !_.isEmpty(e); }).join(\'-\') %>				</div>				<div class="stat-bar-empty text-left">					<div style="position: absolute; left: 0; width: 100%; z-index: 500; color: white;" class="text-center"><%= stats[key] %> / <%= maxCSP %></div>					<div class="stat-bar-fill" style="width:<%= Math.round((stats[key] / maxCSP) * 100) %>%; display:inline-block; z-index: 10;"></div>				</div>				<div class="stat-bar-value" style="display: <%= app.advancedTooltips() ? \'block\' : \'none\'  %>">					<%=  (primaryValues.Default < tgd.DestinyLightCap && statPerks.length > 0) ? _.map(futureRolls, function(roll){ return $(\'<span><span></span></span>\').find("span").addClass(roll.bonusOn == bonusStatOn || (bonusStatOn == \'\' && roll.bonusOn !== key) ? "active" : "inactive" ).html(roll[key]).parent().html();  }).join(\'-\') : \'\'  %>				</div>	        </div>	    <% }) %>		<% extraStats.forEach(function(stat){ %>	        <div class="stat-bar">	            <div class="stat-bar-label">	                <%= stat.label %>	            </div>				<div class="stat-bar-static-value <%= stat.className %> extraStat">					<%= stat.value %>				</div>	        </div>	    <% }) %>	<% } else { %>		<% Object.keys(stats).forEach(function(key){ %>	        <div class="stat-bar">	            <div class="stat-bar-label <%= bonusStatOn == key ? \'active\' : \'inactive\'  %>">	                <%= key %>	            </div>				<div class="stat-bar-static-value">					<%= stats[key].value %>				</div>				<div class="stat-bar-empty text-left">					<div style="position: absolute; left: 0; width: 100%; z-index: 500; color: white;" class="text-center"><%= stats[key].base %> / <%= stats[key].value %></div>					<div class="stat-bar-fill" style="width:<%= stats[key].value %>%; display:inline-block; z-index: 10;"></div>				</div>				<div class="stat-bar-value"><%= stats[key].minMax %></div>	        </div>	    <% }) %>	<% } %></div>',_.templates.swapTemplate='<div id="container_<%= id %>">	<p>Tip: You may click on a swap item to cycle through alternative replacements. </p>	<ul class="list-group" data-bind="foreach: { data: swapArray, as: \'pair\' }, moveItem: true">		<li class="list-group-item">			<div class="row">				<div class="text-center col-xs-24 col-sm-24 col-md-24 col-lg-12" data-bind="text: pair.description"></div>				<div class="text-right col-xs-10 col-sm-10 col-md-10 col-lg-4">					<a class="item" data-bind="fastclick: function(){ return false }, attr: { href: pair.targetItem && pair.targetItem.href }, css: (pair.targetItem && _.has(pair.targetItem,\'bonusOn\') ? (pair.targetItem.bonusOn == pair.targetItem.bonusStatOn() ? \' active\' : \' inactive\') : \'\')">						<img class="itemImage" data-bind="itemImageHandler: pair.activeTargetIcon">					</a>				</div>				<div class="text-center col-xs-4 col-sm-4 col-md-4 col-lg-4">					<img data-bind="attr: { src: pair.actionIcon }">				</div>				<div class="text-left col-xs-10 col-sm-10 col-md-10 col-lg-4">					<a class="swapItem item" data-bind="fastclick: $root.changeSwapItem.bind(pair), attr: { href: pair.swapItem && pair.swapItem.href }">						<img class="itemImage" data-bind="itemImageHandler: pair.activeSwapIcon">					</a>				</div>			</div>		</li>	</ul>	<div class="progress progress-striped active" style="display:none;">            		<div class="progress-bar progress-bar-success" id="tgdLoaderProgress" style="width: 0px;"></div>	</div></div>',_.templates.tooltipsIconTemplate='<span class="fh-icon des-icon small icon-inline no-border">    <a class="inner" href="http://www.destinydb.com/items/<%= item.itemHash %>">        <span class="effect"></span>        <span class="bg" style="background-image:url(<%= tgd.dataDir + item.icon %>)"></span>        <span class="border"></span>    </a>    <span class="outer"></span></span>',_.templates.tooltipsTemplate='<% if ( item.itemTypeName == \'Emblem\' ) { %>	<div class="fhtt fhtt-emblem" style="background:url(data/<%= unescape(item.secondaryIcon) %>)">		<div class="fhtt-emblem-icon"><img src="<%= unescape(item.icon) %>"></div>	    <h1 class="q5">	        <%= unescape(item.itemName) %>	    </h1>    	</div><% } else { %>	<div class="fhtt des des-item">	    <div class="destt-cont">	        <div class="destt-title destt-bg-<%= item.tierType %>" style="background-image:url(<%= tgd.dataDir + item.icon %>)">	            <h2 class="destt-has-icon"></h2>	            <h3 class="destt-title-quality"></h3>	            <h3 class="destt-has-icon"></h3>	            <div class="clearfix"></div>	        </div>	        <div class="destt-desc"></div>	        <div class="destt-info">	            Type:	            <span>	                <%= unescape(item.itemTypeName) %>	            </span>,	        </div>	        <div class="clearfix"></div>	    </div>	    <div class="destt-right"></div>	    <div class="destt-bottomright"></div>	    <div class="destt-bottom"></div>	</div><% } %>',_.templates.whatsNewTemplate="Version:<%= tgd.version %>    <br>    <ul>        <li>3.9.3.7 - Fixed Share URL, added search filter for loadouts, fixed a browser bug preventing pages from loading.</li>		<li>3.9.3.6 - Added Age of Triumph items to the database.</li>        <li>3.9.3.5 - Patched two items missing in the database marked as Classified to show up under Artifacts.</li>        <li>3.9.3.4 - Added the new The Dawning event holiday items.</li>        <li>3.9.3.3 - Fixed Superblack shader not showing in the invetory.</li>		<li>3.9.3.2 - Fix for Chrome to address new API change causing error 'Origin header does not match the provided API key'</li>        <li>3.9.3.1 - Clicking on the DTR/DDB buttons will now link to the item and the associated perks</li>        <li>3.9.3.1 - Added a new button called Perks in the move popup that allows the perk tree to be viewed</li>        <li>3.9.3.1 - Added the Festival of the Lost items to the database</li>        <li>3.9.2.10 - Enabled the Add Vendor Items button under the Custom tool to analyze Vendor Rolls</li>        <li>3.9.2.9 - Fixed certain Quests appearing under Primary to show up in the right section.</li>        <li>3.9.2.8 - Added Outbreak Prime to the item database.</li>        <li>3.9.2.7 - Added new missing shaders The Ointment, Sparklepony and Stolen Chalice.</li>        <li>3.9.2.7 - Removed Ornament indicator from the tooltip</li>        <li>3.9.2.7 - Added a filter \"Keys\" under general for all key related items</li>        <li>3.9.2.7 - Added a yellow bar on top of the emblem indicating the percent to the next Light Level.</li>		<li>3.9.2.6 - Fixed a problem with the Iron Lord Artifacts not being considered when using Max Light</li>        <li>3.9.2.5 - Disabled 'Add Vendor Items' button under Custom tools until Bungie enables the API again.</li>        <li>3.9.2.5 - Added a new filter under General to show only locked items or unlocked items</li>        <li>3.9.2.5 - Farm Mode now continues working until all sections in Vault are full</li>        <li>3.9.2.5 - Fixed a problem with emblem images not loading when updated automatically.</li>        <li>3.9.2.4 - Updated emblem icon to fit better in the nameplate panel</li>        <li>3.9.2.3 - Updated lock icon so it's easier to see</li>        <li>3.9.2.3 - Added the Ornaments section which includes Chroma and Ornaments</li>		<li>3.9.2.2 - Fixed missing shader Barrier Ethos, readjusted armor ratings again until more information is acquired</li>		<li>3.9.2.1 - Increased max light level to 385, updated armor rating to reflect new values</li>		<li>3.9.2.1 - Updated definitions to include all the new Rise of Iron items</li>        <li>3.9.2.0 - Fixed a problem with loadouts not showing the saved General items</li>        <li>3.9.2.0 - Updated definitions to include all the latest items available</li>        <li>3.9.1.3 - Added a temporary fix to 'Sign in to Continue' bug for mobile devices</li>		<li>3.9.1.2 - Added Chroma Colors, Rep Boosters to the General search list, now sorting items in the list.</li>			<li>3.9.1.2 - Loadouts created using the Armor Set Builder will now be automatically saved under Loadouts for that character.</li>		<li>3.9.1.2 - Moved the right side double down arrow to the left side emblem icon for opening the stats tool.</li>		<li>3.9.1.2 - Fixed a problem with certain filters not properly resetting when Clear Filters was used.</li>		<li>3.9.1.2 - Improved Light button under Tools to avoid transferring higher light items available on that character.</li>		<li>3.9.1.2 - Improved unequip algorithm to sort by light and CSP when finding a replacement.</li>		<li>3.9.1.1 - Improved input recognizer for items, added a triple tap action that behaves the same way as the hold functionality.</li>		<li>3.9.1.1 - Fixed an issue with transfers when Armsday Orders were held in that character</li>		<li>3.9.1.0 - Updated app to include the new Destiny 2.3.0 patch changes</li>		<li>3.9.0.11 - Improved French translation text thanks to InvyNexus</li>		<li>3.9.0.10 - Improved item tooltips for armor and weapons</li>		<li>3.9.0.10 - Improved performance and run time for Top 3 and Character buttons thanks to /u/Mistral75</li>		<li>3.9.0.10 - Improved stat infusion prediction algorithm with the the latest work thanks to /u/cornman0101</li>		<li>3.9.0.10 - Improved Tools section to include the ability to control what armor is included from all characters</li>		<li>3.9.0.8 - Added a new Report under the Menu titled Vendor Armor Rolls which updates itself regularly with details on the latest gear sold in the Tower</li>		<li>3.9.0.8 - Changed default sorting from Tier, Type to Tier, Type and then Light.</li>		<li>3.9.0.8 - Fixed a problem with Loadouts not maintaining their order after a change is made</li>		<li>3.9.0.8 - Fixed a problem with Farm Mode not automatically transferring newly acquired loot to the vault upon refresh.</li>		<li>3.9.0.8 - Improved the Custom button to allow for adding of existing items in other characters</li>		<li>3.9.0.8 - Improved the stat roll prediction tooltip to include a range of possible values the armor might reach once infused.</li>		<li>3.9.0.7 - Improved the armor stat infusion predictions, and tooltip quality indicator to be more accurate.</li>		<li>3.9.0.7 - Improved the Manage Loadouts popup to include the ability to control the order of your loadouts.</li>		<li>3.9.0.7 - Fix for the Missing Perks filter not working properly.</li>		<li>3.9.0.7 - Fixed the tooltips for all Quest items not loading at all.</li>		<li>3.9.0.7 - Fix for Custom/T12 Build popup buttons not saving properly.</li>		<li>3.9.0.5 - Fixed perks not showing correctly when the layout was set to List View.</li>			<li>3.9.0.5 - Improved response time when switching between different Views.</li>		<li>3.9.0.5 - Improved handling of Materials and Consumables during and after transfer.</li>		<li>3.9.0.5 - Fix for Vendor Armor tooltip duplicates not displaying properly.</li>		<li>3.9.0.4 - Changed the layout of the stats tool (double down arrow) for each character to be more mobile friendly.</li>		<li>3.9.0.1 - Revamped the Help guide so it's divided into sections and it's easier to understand.</li>		<li>3.9.0.1 - Including The Speaker class items and Exotic Armor blueprints when adding Vendor Armor in the Custom button.</li>		<li>3.9.0.1 - Inactive and unselected perks are now indexed and searchable.</li>		<li>3.9.0.1 - Improved transfers so unequip sorts by light level then stat points when deciding what to replace.</li>		<li>3.9.0.1 - Updated the menu bar to include all the Settings into it's own popup.</li>		<li>3.8.9.13 - The Custom button now allows you to manually add custom items to the tool.</li>		<li>3.8.9.12 - Vendor Armor stat rolls can now be queried under the Custom tool for each character.</li>		<li>3.8.9.12 - Fixed a problem when the Weapon filter was set to All.</li>		<li>3.8.9.12 - Improved the Share URL with friends to include stat roll information for the armor.</li>		<li>3.8.9.11 - Improved auto updater to be more reliable with downloading the updates.</li>		<li>3.8.9.10 - Updated help text with more information regarding stat rolls.</li>		<li>3.8.9.10 - Improved the layout of the Optimized Equipped Gear list to include stat abbreviations.</li>		<li>3.8.9.10 - Changed the color quality indicator to be 97% for green minimum.</li>		<li>3.8.9.10 - Confirm transfer input is now focused on value for quick change</li>		<li>3.8.9.9 - Added an option to easily optmize your stat distribution for your currently equipped gear.</li>		<li>3.8.9.8 - Fixed a bug in Max Tier where the best combo found wasn't being selected.</li>		<li>3.8.9.8 - Updated infusion prediction algorithm to calculate stats at max light level more accurately.</li>		<li>3.8.9.8 - Added new controls to the Custom layout to find the best armor sets more quickly.</li>		<li>3.8.9.8 - Improved the armor corner stat to include the stat roll background color in the default view.</li>		<li>3.8.9.6 - Improving Farm Mode controls so it's more mobile friendly</li>		<li>3.8.9.3 - Completed entering the bonus stat information so that the stat roll indicators will now be more accurate</li>		<li>3.8.9.1 - Improved the Stat Roll tooltip to indicate what stats a Light Level 3 item will have after an infusion</li>		<li>3.8.8 - Updated app with the new April Update changes (more Vault space, new items added, new Light Level, new max stats)</li>		<li>3.8.7.9 - Added the ability to filter by stat type (int/dis/str) from the Armor drop down.</li>		<li>3.8.7.7 - Introducing a new Custom button under the Stat Tools to explore all possible armor combinations.</li>		<li>3.8.7.6 - Fixed a problem where the Save button for Loadouts would sometimes not function properly.</li>		<li>3.8.7.6 - Login prompt will now display on mobile once credentials become invalid from Bungie.</li>		<li>3.8.7.6 - Improved the layout of the Max Tier popup.</li>		<li>3.8.7.5 - Fix for Quick/Full button to ensure multiple exotics aren't used</li>		<li>3.8.7.4 - Added new borders for Loadouts and Manage Loadouts to indicate whether to toggle the stat on or off.</li>		<li>3.8.7.4 - Added the ability to save the stat configuration to a Loadout when using the Armor Builder tools.</li>		<li>3.8.7.3 - Adding a new feature under Loadouts called Manage to quickly view and edit all your loadouts.</li>		<li>3.8.7.1 - Fix for the Progress filter not working properly.</li>		<li>3.8.7 - Introducing a new button in the stats tool called Max Tier to help plan a max light max tier armor build.</li>		<li>3.8.7 - Added a visual indicator to the stats tool button to ensure it can be found and used.</li>		<li>3.8.6.6 - Replaced the sort by Damage Type with sorting by Type, then Light Level.</li>		<li>3.8.6.4 - Added the ability to save calculated combos as Loadouts</li>		<li>3.8.6.3 - Fixed navbar menu button not responding</li>		<li>3.8.6.2 - Improved Best Combo buttons to avoid making additional API requests for all the stats information</li>		<li>3.8.6.1 - Fixed a bug with broken item images when not locally cached and used in Loadouts.</li>		<li>3.8.6 - Farm mode now transfers items back to characters ordered by rarity first.</li>		<li>3.8.6 - Improved tooltips to include stat bars on armor and weapons</li>		<li>3.8.5.13 - Fixed a problem with tooltips that was causing them to load slowly.</li>		<li>3.8.5.11 - Fixed a problem for certain items that was causing the tooltip to not display all the available stats</li>		<li>3.8.5.11 - Improved tooltips to reflect the proper Stat Roll values even if the item is not yet leveled</li>		<li>3.8.5.10 - Updated Help text to include information about the Tier stats available in stats tool.</li>		<li>3.8.5.10 - Added an indicator for max csp for max light gear in the stat tools display.</li>		<li>3.8.5.10 - Improved Armor tooltips with \"Stat Rolls\" details, check out Help for more info.</li>		<li>3.8.5.9 - Added two buttons \"BCF\" and \"BCO\" next to Most Points, check out Help for more info.</li>		<li>3.8.5.8 - Improved Help section in the Best Combo with more information.</li>		<li>3.8.5.6 - The rocket launcher Truth now properly reflects the true magazine size and rockets per pack</li>		<li>3.8.5.4 - Improved tooltips to display the amount of Rockets per Heavy Ammo pack in PVP including equipped armor into the calculation</li>		<li>3.8.5.4 - Improved tooltips to display the stat bar and the min/max values inline</li>		<li>3.8.5.4 - Rocket Launchers with Tripod now display a Magazine size of 3 in the tooltips</li>		<li>3.8.5.3 - Added a Compare button that utilizes DestinyTracker's Compare tool when viewing multiple items with multi-select mode.</li>		<li>3.8.5.1 - Fixed a problem with Max Light button when no exotics are available for that character.</li>		<li>3.8.5.1 - Added two new search types under General for Glimmer Buffs and Glimmer Credit items.</li>		<li>3.8.5.1 - Improved Farm Mode so that you may change the active character that receives the farm materials.</li>		<li>3.8.5 - Updated the Cordova platform to the latest version available</li>		<li>3.8.4.1 - Updated the Guardian.GG links so it properly redirects you to your profile</li>		<li>3.8.4.1 - Changed Best Combo to only analyze armor found within that character except for Ghosts across all characters</li>		<li>3.8.4.1 - Fixed an issue when attempting to equip an item, prompted to swap, only a transfer happens requiring a manual equip action</li>		<li>3.8.4 - Added Crimson Doubles event items (Shaders, Ghost Shells)</li>		<li>3.8.3 - Fixed a problem with error code 20 when the login credential was no longer valid</li>		<li>3.8.2.9 - You may now filter Best Combo builds for the item you want by using hold tap</li>		<li>3.8.2.8 - Updated input library to the newest version with various fixes</li>		<li>3.8.2.7 - Stat display now properly shows the skill icons</li>		<li>3.8.2.6 - Fixed notification popups to properly display below the menu bar</li>		<li>3.8.2.3 - Multiple options are now available for every combo displayed in the pop up dialog</li>		<li>3.8.2.1 - Improved controls, fixed the play/stop button not showing up, checkboxes can now be selected by tapping on the label</li>		<li>3.8.2 - Introducing a new Farm Mode with more controls</li>		<li>3.8.1.6 - Improved Best Combo layout, added new sorting options under View by Tier, Light and Tier, Name</li>		<li>3.8.1.5 - Fixed a problem with the recent changes with View Options.</li>		<li>3.8.1.4 - Fixed a problem with Farm Mode and Gunsmith Test Weapons.</li>		<li>3.8.1.3 - Fixed a transfer issue that would occur when the vault is full.</li>		<li>3.8.1.2 - Fixed View Options and Best Combo feature bugs.</li>		<li>3.8.1.0 - Improved View Options by setting the Vault to full width when MD or SD are 3 columns.</li>		<li>3.8.0.32 - Added Class initials to the bottom left of the QuickScroll icons when viewed on mobile or low resolution displays</li>		<li>3.8.0.31 - Added DestinyTracker as a quick look up option for items along side DestinyDB and Bungie's Armory.</li>		<li>3.8.0.30 - Updated Farm Mode to include unlocked and decrypted Rare, Uncommon items when transferring to the Vault.</li>		<li>3.8.0.20 - Setting the View Options to 3 columns for LG and Vault position to last will now create a full width Vault section.</li>		<li>3.8.0.10 - Ghosts and Artifacts are now shown when View is set to General or Armor.</li>		<li>3.8.0.9 - The Best Combo button will now consider alternative stats when calcuating best armor sets, added new border color to images to indicate stat status.</li>		<li>3.8.0.8 - Added a new feature 'Farm Mode' that will automatically transfer Engrams, Network Keys, House Banners, etc to the Vault</li>		<li>3.8.0.7 - Added the ability to look up the item in DestinyDB and Bungie Armory from within the move pop up</li>		<li>3.8.0.6 - Added a View Format option under View to switch between the default Image Grid and a new Item List format.</li>		<li>3.8.0.3 - Fixed a problem with Max Light button not considering certain legendaries in specific situations.</li>		<li>3.8.0.2 - Added a new stat to armor tooltips displaying the total skill points and maximum points possible.</li>		<li>3.8.0 - Cleaning up the project, improved various translation sections, fixed a few minor bugs</li>		<li>3.7.9.3 - Stats window for each character now auto closes after selecting a button</li>		<li>3.7.8.5 - Bug fixes for the stat tools, pop up buttons, and loadouts for materials</li>		<li>3.7.8.3 - Added relevant perks to Best Combo view for each build, added feedback for loading process, fixed a refresh bug</li>		<li>3.7.8.2 - Revamped the layout of Best Combo to include more stats, display the items as icons, mobile friend for hold to show the tooltips</li>        <li>3.7.8 - Improved the time it takes to log in (orange bar) for mobile devices</li>        <li>3.7.7.2 - Improved the character stats display with additional information such as Tier level for each skill</li>        <li>3.7.7 - Optimized a major set of the code to be more efficient and memory friendly to fix the crashes on loading</li>        <li>3.7.6.15 - Added 3 new alternative reports under Settings for viewing your profile online using DestinyTracker, Guardian.GG, and DestinyTrials</li>        <li>3.7.6.14 - Improved tooltips for low resolution devices to better scale and position the tooltip box</li>        <li>3.7.6.13 - Fixed a problem with loadouts when using a class item with the perk Life Exotic</li>        <li>3.7.6.12 - Fixed a problem that would prevent the app from refreshing when the emblem was clicked</li>        <li>3.7.6.9 - Optimizing templates and layouts to reduce memory usage and improved translation text.</li>        <li>3.7.6.7 - Optimized the 'Best Combo' button so it should be somewhat faster in calculating the different armor builds.</li>        <li>3.7.6.6 - Fixed a problem with initial loading of profiles for certain desktop platforms</li>        <li>3.7.6.5 - Fixed a problem with loadouts that would prevent a transfer when the destination didn't already have an existing item of that type</li>        <li>3.7.6.2 - Improved the layout for the help text when transferring items</li>        <li>3.7.6.1 - Fixed the Equip with Highest buttons lost styles</li>        <li>3.7.6 - Updated Help text to include new options added recently</li>        <li>3.7.5.13 - Thanks to Korben85 for providing improved German translations.</li>        <li>3.7.5.12 - Improved the Armor drop down with new labels for existing filters and new views for light level and stats.</li>        <li>3.7.5.8 - Improved toaster notifications by reducing the amount of notifications during a refresh, adjusting the position when it's shown, and tweaked the delay for various messages</li>        <li>3.7.5.7 - Various fixes for the tooltip perks, stats and display for certain SRL gear.</li>        <li>3.7.5.5 - Added an option to consolidate from the Extras menu for Consumables</li>        <li>3.7.5.4 - Added a new set of filters to Armor dropdown including filtering armor by weapons equipped, the subclass equipped and the character class type.</li>        <li>3.7.4.1 - Fixed a problem with loading when Auto Updater was enabled for certain desktop platforms</li>        <li>3.7.4.0 - Restructured the way the Tower Ghost loads for certain desktop platforms</li>        <li>3.7.1.2 - Removed image loading code until a better solution can be implemented</li>        <li>3.7.0.7 - Improved app performance by only loading the item images when they are within view</li>        <li>3.7.0.5 - Fixed the top left button \"TGD\" to properly display the What's New section</li>        <li>3.7.0.4 - Fixed tooltips perks not showing in all platforms</li>        <li>3.7.0.3 - Tooltips will now scale better for mobile devices</li>        <li>3.7.0.2 - Fixed iPad landscape start up issue</li>        <li>3.7.0.1 - Fixed broken tooltips after new Bungie update</li>        <li>3.7.0.0 - Updated database to the latest Bungie definitions</li>        <li>3.6.8.8 - Improved tooltips to ensure they always load including remote data issue</li>        <li>3.6.8.7 - Fixes for an improved Auto Refresh setting</li>        <li>3.6.8.6 - Further optimizing Tower Ghost to reduce file sizes and loading times</li>        <li>3.6.8.5 - Equip Best Combo is now sorted by highest available tiers descending</li>        <li>3.6.8.3 - Improved the auto updates download event from notifications to a dedicated loading bar</li>        <li>3.6.8.2 - Mobile tweak to prevent user from being able to select/highlight text when holding it down</li>        <li>3.6.8.1 - Added the Horn bucket to the General view right below Sparrow</li>        <li>3.6.8 - Updated definitions to include the new Sparrow Racing League items</li>    </ul>",
ko.templates={},ko.templates["character-container-template"]='<div class="container" id="charactersContainerParent" data-bind="style: { width: ccWidth }">    <div class="container-fluid" id="charactersContainer" style="display:none" data-bind="visible: orderedCharacters().length > 0, moveItem: true">        <div class="row" data-bind="foreach: { data: orderedCharacters, as: \'character\' }">            <div class="profile" data-bind="css: $parent.columnMode(character), attr:{id: character.id}">                <div class="character">                    <div class="character-box" data-bind="itemBgImageHandler: background, css: character.id, refreshableEmblem: true, fastclick: character.refresh, clickBubble: false">                        <img class="emblem" data-bind="itemImageHandler: icon, fastclick: toggleStats, clickBubble: false, css: character.statsToolClass">                        <div class="class" data-bind="text: classType"></div>                        <div class="level" data-bind="visible: level() != \'\'">                            <div class="light" data-bind="text: level"></div>                            <div class="power" data-bind="text: character.powerLevel"></div>                        </div>                        <div class="progression" data-bind="visible: id != \'Vault\', style: { width: character.percentToNextLevel() + \'%\' }, attr: { title: character.percentToNextLevel() + \'% to next Light Level\' }">&nbsp;</div>                    </div>                    <div>                        <div class="row stats" data-bind="with: stats, visible: statsShowing">                            <div class="btn-group col-xs-24">								<a data-bind="fastclick: character.setPane(\'info\'), clickBubble: false, css: character.statsPane() == \'info\' ? \'btn-primary\' : \'btn-default\'" class="btn btn-default btn-sm col-xs-8 text-center"><i class="fa fa-info"></i> Info</a>								<a data-bind="fastclick: character.setPane(\'tools\'), clickBubble: false, css: character.statsPane() == \'tools\' ? \'btn-primary\' : \'btn-default\'"class="btn btn-default btn-sm col-xs-8 text-center"><i class="fa fa-wrench"></i> Tools</a>								<a data-bind="fastclick: character.setPane(\'more\'), clickBubble: false, css: character.statsPane() == \'more\' ? \'btn-primary\' : \'btn-default\'" class="btn btn-default btn-sm col-xs-8 text-center"><i class="fa fa-bars"></i> Loadouts</a>							</div>							<div data-bind="if: character.statsPane() == \'info\' && character.statsShowing()">								<div class="col-xs-24 text-center" style="border-bottom:1px dashed white; padding:5px 0px; ">									<div data-bind="foreach: { data: tgd.DestinyArmorStats, as: \'stat\' }" class="skillStatRow">										<div class="row">											<span class="col-xs-9 text-right font-bold" data-bind="text: stat.statName"></span>											<span class="col-xs-4" data-bind="text: character.equippedStats()[stat.statName]"></span>											<span data-bind="css: \'stat_\' + stat.statHash" class="col-xs-2 fa skill"></span>											<span class="col-xs-3" data-bind="text: \'T\' + Math.floor(character.equippedStats()[stat.statName] / tgd.DestinySkillTier)"></span>											<span class="col-xs-6 text-left" style="white-space:nowrap;">(<span data-bind="text: character.getCooldown(Math.floor(character.equippedStats()[stat.statName] / tgd.DestinySkillTier), stat.statHash)"></span>)</span>										</div>									</div>								</div>								<div class="col-xs-24" style="padding:7px">									<div class="col-xs-9 text-left font-smaller-1 skillStatRow">										<div class="row" style="padding-top: 0px;">											<div class="font-bold col-xs-18 text-right"><span data-bind="text: $root.activeText().armor"></span>: </div>											<div class="col-xs-6" data-bind="text: STAT_ARMOR.value"></div>										</div>										<div class="row">											<div class="font-bold col-xs-18 text-right"><span data-bind="text: $root.activeText().agility"></span>: </div>											<div class="col-xs-6" data-bind="text: STAT_AGILITY.value"></div>										</div>										<div class="row">											<div class="font-bold col-xs-18 text-right"><span data-bind="text: $root.activeText().recovery"></span>: </div>											<div class="col-xs-6" data-bind="text: STAT_RECOVERY.value"></div>										</div>                                        									</div>									<div class="col-xs-14 text-left font-smaller-1">										<div title="Current tier possible for Armor Equipped">											<div class="font-bold col-xs-22 text-right">Equipped Tier: </div> 											<div class="col-xs-2" data-bind="text: character.equippedTier"></div>										</div>										<div title="Combined Stat Points for Armor Equipped">											<div class="font-bold col-xs-22 text-right">Equipped CSP: </div> 											<div class="col-xs-2" data-bind="text: character.sumCSP"></div>										</div>										<div title="Potential Tier possible with the current Armor Equipped">											<div class="font-bold col-xs-22 text-right">Potential Tier: </div> 											<div class="col-xs-2" data-bind="text: character.potentialTier"></div>										</div>										<div title="Stat Points needed to reach Potential Tier">											<div class="font-bold col-xs-22 text-right">Points Needed: </div> 											<div class="col-xs-2" data-bind="text: (character.potentialTier() * tgd.DestinySkillTier)"></div>										</div>										<div title="Stat Points the Equipped armor can reach if infused to max light">											<div class="font-bold col-xs-22 text-right">CSP at <span data-bind="text: tgd.DestinyLightCap"></span>: </div> 											<div class="col-xs-2" data-bind="text: character.potentialCSP"></div>										</div>									</div>								</div>							</div>							<div data-bind="if: character.statsPane() == \'tools\' && character.statsShowing()">								<div class="col-xs-24 text-center">									<span class="font-bold col-xs-24 statsToolTitle">Equip Gear With Highest 										<button data-bind="tooltip: true, fastclick: function(){ return false; }, clickBubble: false" type="button" class="btn btn-xs btn-primary" data-toggle="tooltip" data-trigger="click hover space" data-placement="auto" title="Pulls gear from anywhere in your account to equip with the highest stat desirable."><i class="fa fa-question-circle"></i></button>									</span>									<div class="btn-group col-xs-24">										<a title="Automatically equip gear with the most Intellect" data-bind="text: $root.activeText().inte, fastclick: character.equipHighest(\'Intellect\'), clickBubble: false" class="btn btn-default btn-sm col-xs-8">Int</a>										<a title="Automatically equip gear with the most Discipline" data-bind="text: $root.activeText().disc, fastclick: character.equipHighest(\'Discipline\'), clickBubble: false" class="btn btn-default btn-sm col-xs-8">Disc</a>										<a title="Automatically equip gear with the most Strength" data-bind="text: $root.activeText().str, fastclick: character.equipHighest(\'Strength\'), clickBubble: false" class="btn btn-default btn-sm col-xs-8">Str</a>										<a title="Automatically equip gear with the highest Light Level" data-bind="fastclick: character.equipHighest(\'Light\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12"><span data-bind="text: $root.activeText().light"></span></a>										<a title="Automatically equip gear with the highest Combined Stat Points" data-bind="text: $root.activeText().most_points, fastclick: character.equipHighest(\'All\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12">Points</a>									</div>									<span class="font-bold col-xs-24 statsToolTitle">										Armor Set Builder 										<button data-bind="tooltip: true, fastclick: function(){ return false; }, clickBubble: false" type="button" class="btn btn-xs btn-primary" data-toggle="tooltip" data-trigger="click hover space" data-placement="auto" title="<strong>Top 3</strong>-Report of stat combinations available for the top 3 items by points.<br><strong>Character</strong>-Report of stat combinations available based on all the items in that character.<br><strong>Custom</strong>-Explore all armor combinations possible<br><strong>T12 Build</strong>-Explore Tier-12 combinations possible"><i class="fa fa-question-circle"></i></button>									</span>									<div class="btn-group col-xs-24">										<a title="Analyzes the top 3 armor pieces sorted by points in your inventory to find the highest tier sets you can currently create" data-bind="fastclick: character.equipHighest(\'OptimizedBest\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12 text-center">Top 3</a>										<a title="Analyzes all your armor in your inventory to find the highest tier sets you can currently create" data-bind="fastclick: character.equipHighest(\'Best\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12 text-center">Character</a>										<a title="Allows you to explore armor sets to find the highest tier sets you can currently create" data-bind="fastclick: character.equipHighest(\'Custom\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12 text-center">Custom</a>										<a title="Allows you to explore armor sets available that reach the max tier possible in game" data-bind="fastclick: character.equipHighest(\'MaxLight\'), clickBubble: false, text: \'T\' + tgd.maxTierPossible + \' Build\'" class="btn btn-default btn-sm col-xs-12 text-center"></a>									</div>									<span class="font-bold col-xs-24 statsToolTitle">										Include All Armor										<button data-bind="tooltip: true, fastclick: function(){ return false; }, clickBubble: false" type="button" class="btn btn-xs btn-primary" data-toggle="tooltip" data-trigger="click hover space" data-placement="auto" title="Include all valid items account wide from all characters and vault"><i class="fa fa-question-circle"></i></button>									</span>									<div class="text-left col-xs-24 font-smaller-1 btn-group" data-bind="clickBubble: false">										<!-- ko foreach: { data: tgd.DestinyArmorPieces, as: \'armorType\' } -->											<input type="button" class="btn btn-sm" data-bind="fastclick: $root.setGlobalItems.bind(armorType), css: $root.globalItems().indexOf(armorType) > -1 ? \'btn-primary\':\'btn-default\', value: armorType, clickBubble: false">										<!--/ko  -->									</div>								</div>							</div>							<div data-bind="if: character.statsPane() == \'more\' && character.statsShowing(), clickBubble: false">								<span class="font-bold col-xs-24 statsToolTitle text-center" data-bind="visible: character.loadouts().length > 0" style="display:none;">									Loadouts (<span data-bind="text: character.loadouts().length"></span>)								</span>                                <div class="btn-group col-xs-24">									<input class="form-control" name="filter" autocomplete="off" data-bind="valueUpdate: \'input\', value: character.loadoutsFilter, attr: { placeholder: \'Filter Loadouts\' }, clickBubble: false" type="text">								</div>								<div class="btn-group col-xs-24">									<ul data-bind="foreach: { data: character.loadouts, as: \'loadout\' }" class="list-group text-left" style="margin-bottom:0; max-height: 125px; overflow-y: scroll;">										<li class="list-group-item" style="padding:2px" data-bind="visible: _.isEmpty(character.loadoutsFilter()) || loadout.name().toLowerCase().indexOf(character.loadoutsFilter().toLowerCase()) > -1">											<span class="font-smaller-2">												<input type="button" class="btn btn-sm btn-default" value="View" data-bind="fastclick: setActive, clickBubble: false">												<span data-bind="text: loadout.name"></span>											</span>										</li>									</ul>								</div>								<span class="font-bold col-xs-24 statsToolTitle text-center">									Optimize Equipped Gear 									<button data-bind="tooltip: true, fastclick: function(){ return false; }, clickBubble: false" type="button" class="btn btn-xs btn-primary" data-toggle="tooltip" data-trigger="click hover space" data-placement="bottom" title="<strong>Refresh</strong> Lists the stat combinations available for the currently equipped gear.<br><strong>Minus Other</strong> Lists the stat combinations available for your currently equipped gear and all your artifacts, ghosts and class items."><i class="fa fa-question-circle"></i></button>								</span>								<div class="btn-group col-xs-24">									<a title="Analyzes the equipped gear for the best stat distributions" data-bind="fastclick: character.optimizeGear(\'Equipped\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12 text-center">Refresh</a>									<a title="Analyzes the equipped gear minus other armor for the best stat distributions" data-bind="fastclick: character.optimizeGear(\'Minus Other\'), clickBubble: false" class="btn btn-default btn-sm col-xs-12 text-center">Minus Other</a>																	</div>								<div class="btn-group col-xs-24" data-bind="with: character.activeBestSets">									<ul data-bind="foreach: { data: $data, as: \'combo\' }" class="list-group text-left" style="margin-bottom:0;">										<li class="list-group-item" style="padding: 2px">											<span class="font-smaller-2">												<input type="button" class="btn btn-sm btn-default" value="View" data-bind="fastclick: character.viewCombo(combo), clickBubble: false">												T<span data-bind="text: Math.floor(combo.score)"></span>												<span data-bind="text: combo.statTiers.replace(/<br>/g,\' / \')"></span>											</span>										</li>									</ul>								</div>							</div>                        </div>                                        </div>                </div>                <div class="inventory">                    <div class="items" data-type="item">                        <!-- ko foreach: { data: $root.allLayouts, as: \'layout\' } -->                        <div data-bind="visible: layout.isVisible(character) && ($root.activeView() == layout.id || $root.activeView() == \'0\')">                            <div class="title2" data-bind="visible: $root.searchKeyword() == \'\', refreshableSection: true">                                <strong data-bind="text: layout.titleText(character)"></strong>                                <span data-bind="html: layout.countText(character)"></span>                                <div class="titleRefresh" data-bind="visible: isMobile">                                    <!-- ko if: (layout.headerText == \'inventory_weapons\' || layout.headerText == \'inventory_armor\') -->                                    <i title="Click to select multiple items to transfer in one go." class="fa fa-clone" data-bind="fastclick: $root.startMultiSelect, clickBubble: false"></i>                                    <!--/ko  -->                                    <i title="Click to refresh this area" class="fa fa-refresh text-success" data-bind="fastclick: character.reloadBucket, clickBubble: false"></i>                                </div>                            </div>                            <div class="sections" data-bind="template: { name: $root.sectionsTemplate, foreach: layout.activeBucketTypes, as: \'bucketType\' }"></div>                        </div>                        <!--/ko  -->                    </div>                </div>            </div>            <!-- ko if: $index() == 1 -->            <div class="clearfix hidden-xs visibile-sm-block hidden-md hidden-lg" data-bind="visible: tgd.defaults.smColumn == $root.smColumn()"></div>            <!--/ko  -->            <!-- ko if: $index() == 2 -->            <div class="clearfix hidden-xs hidden-sm visibile-md-block hidden-lg" data-bind="visible: tgd.defaults.mdColumn == $root.mdColumn()"></div>            <!--/ko  -->        </div>    </div></div>',ko.templates["image-grid-template"]='<div class="title" data-bind="visible: bucketType !== \'Subclasses\' && $root.searchKeyword() == \'\', refreshableSection: true">    <span data-bind="text: $root.getBucketName(bucketType)"></span>    <!-- ko if: ( character.id !== \'Vault\' ) -->        <!-- ko if: (!_.has(tgd.DestinyBucketSizes,bucketType)) -->            (<span data-bind="text: character.get(bucketType).length + (character.itemEquipped(bucketType) ? 1 : 0)"></span>/10)        <!--/ko  -->        <!-- ko if: (_.has(tgd.DestinyBucketSizes,bucketType)) -->            (<span data-bind="text: character.get(bucketType).length"></span>/<span data-bind="text: tgd.DestinyBucketSizes[bucketType]"></span>)        <!--/ko  -->    <!--/ko  -->    <div class="titleRefresh" data-bind="visible: isMobile">        <!-- ko if: !(bucketType == \'Materials\' || bucketType == \'Consumables\') -->        <i title="Click to select multiple items to transfer in one go." class="fa fa-clone" data-bind="fastclick: $root.startMultiSelect, clickBubble: false"></i>        <!--/ko  -->        <!-- ko if: (bucketType == \'Materials\' || bucketType == \'Consumables\') -->        <img title="Click to normalize all consumables" src="assets/swap_16.png" data-bind="fastclick: function(){ $root.normalizeAll(bucketType); }, clickBubble: false" />        <!--/ko  -->        <i title="Click to refresh this area" class="fa fa-refresh text-success" data-bind="fastclick: character.reloadBucket, clickBubble: false"></i>    </div></div><div class="row no-gutter" style="margin:auto;">    <div class="itemBucket" data-bind="css: ((character.id == \'Vault\' || tgd.DestinyBucketColumns[bucketType] == 4) ? \'col-xs-24\' : \'col-xs-18\') + \' \' + bucketType + \' \' + character.id">        <div class="itemBucketBG" data-bind="sortable: { data: character.get(bucketType), as: \'item\', options: $root.dndImageGridOptions, beforeMove: $root.dndBeforeMove, afterMove: $root.dndAfterMove, isEnabled: $root.padBucketHeight() === true && $root.dragAndDrop() === true }">            <span class="bucket-item" data-bind="css: columnMode, visible: isVisible">                <a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}, style: { opacity: item.opacity }">                    <img class="itemImage" data-bind="itemImageHandler: item.icon, attr: { instanceId:item._id }, fastclick: function(){ return false }">                </a>                <i class="fa fa-lock lockIcon" aria-hidden="true" data-bind="visible: item.locked"></i>                <div class="attkIcon" data-bind="visible: cspStat() != \'\'">					<div data-bind="text: cspStat, css: cspClass"></div>                </div>            </span>        </div>    </div>    <!-- ko with: character.itemEquipped(bucketType) -->    <div style="padding-left: 4px;" class="bucket-item col-xs-6" data-bind="css: isGridComplete ? \'complete\' : \'\',visible: isVisible, sortable: [ $data ]">        <a class="itemLink" data-bind="attr:{href:href, instanceId:_id}">            <img class="itemImage" data-bind="itemImageHandler: icon, attr: { instanceId:_id }, fastclick: function(){ return false }">        </a>        <i class="fa fa-lock lockIcon" aria-hidden="true" data-bind="visible: locked"></i>        <div class="attkIcon" data-bind="visible: cspStat() != \'\'">			<div data-bind="text: cspStat, css: cspClass"></div>		</div>    </div>    <!--/ko  --></div>',ko.templates["items-list-template"]="<table class=\"table table-striped table-hover\" data-bind=\"visible: character.get(bucketType).length > 0\">	<thead>		<tr>		  <th colspan=\"3\">			<span data-bind=\"text: $root.getBucketName(bucketType)\"></span>			<!-- ko if: ( character.id !== 'Vault' ) -->			<!-- ko if: !(bucketType == 'Materials' || bucketType == 'Quests' || bucketType == 'Consumables' || bucketType == 'Messages' || bucketType == 'Invisible' || bucketType == 'Lost Items' || bucketType == 'Bounties') -->			(			<span data-bind=\"text: character.get(bucketType).length + (character.itemEquipped(bucketType) ? 1 : 0)\"></span>/10)			<!--/ko  -->			<!-- ko if: (bucketType == 'Bounties') -->			(			<span data-bind=\"text: character.get(bucketType).length\"></span>/16)			<!--/ko  -->			<!-- ko if: (bucketType == 'Quests') -->			(			<span data-bind=\"text: character.get(bucketType).length\"></span>/32)			<!--/ko  -->			<!-- ko if: ( bucketType == 'Materials' || bucketType == 'Consumables' || bucketType == 'Messages' || bucketType == 'Invisible' || bucketType == 'Lost Items' ) -->			(			<span data-bind=\"text: character.get(bucketType).length\"></span>/20)			<!--/ko  -->			<!--/ko  -->		  		  </th>		</tr>	</thead>	<tbody data-bind=\"sortable: { data: character.all(bucketType), as: 'item' }\">		<tr data-bind=\"css: isEquipped() ? 'active' : ''\">		  <td><a class=\"itemLink\" data-bind=\"attr:{href:item.href, instanceId:item._id}, text: description, fastclick: function(){ return false }\"></a></td>		  <td data-bind=\"css: cspClass()+'Text', text: item.primaryStat\"></td>		  <td class=\"text-right\">		  	<span data-bind=\"if: item.weaponIndex > -1\">				<span data-bind=\"text:item.typeName.split(' ')[0]\"></span>			</span>			<div data-bind=\"if: item.armorIndex > -1\" style=\"width: 36px;\">				<!-- ko foreach: item.perks  -->					<img data-bind=\"itemImageHandler: iconPath, attr: { title: name }, visible: iconPath != ''\" width=\"16\">				<!--/ko  -->			</div>		  </td>		</tr>	</body></table>	",ko.templates["loadout-create-template"]='<div id="loadout-create" data-bind="visible: loadoutMode, if: loadoutMode" style="display:none;">    <div class="content" data-bind="with: activeLoadout">        <div id="loadout-options" class="row">            <div class="col-xs-12" data-bind="visible: $parent.dynamicMode() == false">                <div class="col-xs-24">					<input id="loadout-name" type="search" data-bind="value: name" placeholder="Loadout Name...">				</div>				<div class="col-xs-24" style="display:none" data-bind="visible: doAssign">					<select style="width: 150px" data-bind="options: _.filter($root.orderedCharacters(),function(c){ return c.id != \'Vault\'; }), optionsText: \'uniqueName\', optionsValue: \'id\', value: characterId, optionsCaption: \'Global Menu\'">					</select>				</div>            </div>            <div class="col-xs-12">                <controls data-bind="visible: $parent.dynamicMode() == false">                    <span data-bind="fastclick: save, text: $root.activeText().loadouts_save">Save</span>					                    <span data-bind="fastclick: saveNew, text: $root.activeText().loadouts_save_new" style="white-space:nowrap;">Save As</span>                    <span data-bind="fastclick: remove, text: $root.activeText().loadouts_delete">Delete</span>					<span data-bind="fastclick: assign">Assign</span>                </controls>				<span data-bind="fastclick: compareLoadout">Compare</span>                <span data-bind="fastclick: $root.cancelLoadout, text: $root.activeText().close_msg">Close</span>            </div>            <div class="col-xs-24">                <!-- ko foreach: { data: $root.orderedCharacters, as: \'character\' } -->                <div class="mobile-characters">                    <img class="mobile-characters-image" data-bind="itemImageHandler: icon, attr: {title: uniqueName}, fastclick: function(){ $parent.transfer(character.id) }" src="about:blank">					<div class="mobile-characters-letter" data-bind="text: classLetter"></div>                </div>                <!--/ko  -->            </div>            <div id="loadout-error" class="col-xs-24 label label-danger" data-bind="visible: items().length == 0, text: $root.activeText().loadouts_instructions + (isMobile ? $root.activeText().loadouts_mobile:$root.activeText().loadouts_desktop) + $root.activeText().loadouts_instructions_contd"></div>        </div>        <span id="loadout-contents" data-bind="foreach: { data: items, as: \'item\' }, moveItem: true">            <div class="item" data-bind="css: (isMobile && item._id > 0 && item.doEquip() ? \'doEquip\' : \'\') + (item && _.has(item,\'bonusOn\') ? (item.bonusOn == item.bonusStatOn() ? \' active\' : \' inactive\') : \'\')">                <input type="checkbox" value="true" data-bind="checked: item.doEquip, fastclick: markAsEquip, visible: !isMobile && item._id > 0" title="Enable to mark as the equip item">                <a class="itemLink" data-bind="attr:{href:item.href, instanceId:item._id}">                    <img class="itemImage" src="about:blank" data-bind="itemImageHandler: item.icon, attr: { src: item.icon, instanceId:item._id }, fastclick: function(){ return false }">                </a>                <div class="attkIcon">                    <div data-bind="text: _.has(item,\'bonusOn\') ? item.bonusOn.substring(0,3) : item.primaryStat(), css: damageTypeName"></div>                </div>            </div>        </span>    </div></div>',ko.templates["messages-template"]='<div class="container well well-sm" data-bind="if: farmViewEnabled, visible: farmViewEnabled">	<div class="row">		<div class="col-xs-7">			<div class="col-xs-24 col-sm-24 col-md-8 col-lg-10">				<span data-bind="text: farmMode() ? \'Enabled\' : \'Disabled\', css: farmMode() ? \'text-success\' : \'text-danger\'"></span>				<span data-bind="visible: farmMode">					(<span id="timeRemainingForRefresh" title="Time until next refresh" class="text-muted"></span>)				</span>			</div>			<div class="col-xs-24 col-sm-12 col-md-8 col-lg-7" style="white-space: nowrap">				<button title="Enable/Disable" data-bind="fastclick: function(){ farmMode(!farmMode()) }">					<span data-bind="css: farmMode() ? \'fa-stop text-danger\' : \'fa-play text-success\'" class="fa"></span>				</button>				<button title="Refresh Inventory" data-bind="fastclick: refresh"><i class="fa fa-refresh text-success"></i></button>			</div>			<div class="col-xs-24 col-sm-12 col-md-8 col-lg-7" style="white-space: nowrap">				<button title="Show Help" data-bind="fastclick: showFarmHelp"><i class="fa fa-question text-info"></i></button>				<button title="Close Farm Mode Controls" data-bind="fastclick: toggleFarmMode"><i class="fa fa-times text-danger"></i></button>			</div>		</div>		<div class="col-xs-12">			<!-- ko foreach: { data: _.keys(tgd.farmItemFilters), as: \'itemType\' } -->				<div class="col-xs-24 col-sm-12 col-md-6 col-lg-6 text-left">					<label>						<input type="checkbox" data-bind="checked: $root.farmItems, value: itemType"> 						<span data-bind="text: itemType" class="text-primary"></span>						<span data-bind="text: $root.farmItemCounts()[itemType]" class="text-info"></span>					</label>				</div>			<!--/ko  -->		</div>		<div class="col-xs-5">			<div data-bind="foreach: { data: orderedCharacters, as: \'avatar\' }">				<div class="mobile-characters" data-bind="visible: avatar.id == $root.farmTarget() && $root.farmMode() == true || $root.farmMode() == false, style: { border: $root.farmTarget() == avatar.id ? \'2px solid green\' : \'\' }, click: setFarmTarget.bind(avatar)">					<img class="mobile-characters-image" data-bind="itemImageHandler: icon, attr: {title: uniqueName}, css: id" src="about:blank">					<div class="mobile-characters-letter" data-bind="text: classLetter"></div>				</div>			</div>		</div>	</div></div>	<div class="alert alert-dismissible alert-info" data-bind="visible: isStaticBrowser, if: isStaticBrowser" style="display:none;">    <button type="button" class="close" data-dismiss="alert"></button>    <strong>Create your own share URL!</strong> <a href="/index.php/downloads/" target="_blank">Install the app</a> for Chrome, Firefox, iOS, Android or Windows-Phone.</div><div class="alert alert-info" data-bind="visible: shareView, if: shareView" style="display:none;">    <span data-bind="text: $root.activeText().text_shareurl"></span>:    <a target="_system" data-bind="attr:{href: shareUrl}">        <span data-bind="text: shareUrl"></span>    </a></div><div class="alert alert-success" data-bind="visible: showMissing, if: showMissing" style="display:none;">    <strong data-bind="text: $root.activeText().missing_items">Missing Items</strong>    <span data-bind="foreach: { data: missingSets }">        <a data-bind="attr:{ href: \'https://destinydb.com/items/\' + $data }, fastclick: function(){ return false }">            <img src="about:blank" data-bind="attr:{src: _itemDefs[ $data ] && ($root.bungie.getUrl() +_itemDefs[ $data ].icon), title: _itemDefs[ $data ] && _itemDefs[ $data ].name }" width="48">        </a>    </span></div><div data-bind="with: $root.activeUser()" style="">    <div data-bind="visible: typeof error !== \'undefined\'" style="display:none;">        <div class="alert alert-danger" data-bind="visible: typeof code !== \'undefined\' && code != 99">            <strong>Error:</strong>            <span data-bind="text: typeof error == \'undefined\' ? \'\' : error"></span>        </div>        <div data-bind="visible: typeof code !== \'undefined\' && (code == 99) || (typeof error !== \'undefined\' && (error == \'network error:502\' || error == \'network error:503\'))">            <div class="col-xs-24 col-sm-16 col-sm-offset-4 col-lg-8 col-lg-offset-8 text-center">                <div class="panel panel-success" id="loginForm">                    <div class="panel-heading">                        <h2 class="panel-title" data-bind="text: $root.activeText().login_title">Welcome to Tower Ghost for Destiny!</h2>                    </div>                    <div class="panel-body">                        <p data-bind="text: $root.activeText().login_instructions">To get started you\'ll need to log in to your Bungie.net account via:</p>                        <div class="btn-padding">                            <div class="form-group">                                <a data-bind="fastclick:$root.openBungieWindow(\'Xuid\')" style="cursor:pointer; color:#1a1e24" class="btn btn-secondary btn-block">                                    <img src="assets/xbox_live.png" /> Xbox Live</a>                            </div>                            <div class="form-group">                                <a data-bind="fastclick:$root.openBungieWindow(\'Psnid\')" style="cursor:pointer; color:#1a1e24" class="btn btn-secondary btn-block">                                    <img src="assets/playstation.png"> Playstation Network</a>                            </div>                        </div>                        <p data-bind="text: $root.activeText().login_help">Please wait for the login window to auto close as TGD prepares your information.</p>                    </div>                </div>            </div>        </div>    </div></div><div style="display:none;" id="tgdLoader">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_loading_updates">Please wait, downloading auto updates</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-success" id="tgdLoaderProgress" style="width: 100%"></div>        </div>    </div></div><div style="display:none;" data-bind="visible: loadingUser() == true && hiddenWindowOpen() == false">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_loading_inventory">Please wait, loading arsenal from Bungie</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-success" style="width: 100%"></div>        </div>    </div></div><div style="display:none;" data-bind="visible: hiddenWindowOpen, if: hiddenWindowOpen">    <div class="col-xs-24">        <h4 data-bind="text: $root.activeText().login_authenticating_pt1">Logging into Bungie... Please be patient.</h4>        <div class="progress progress-striped active">            <div class="progress-bar progress-bar-warning" style="width: 100%"></div>        </div>        <div>            <span data-bind="text: $root.activeText().login_authenticating_pt2">If log in screen remains for 4+ minutes, use these links for</span>            <a data-bind="fastclick:$root.openBungieWindow(\'Xuid\')" style="text-decoration: underline;">Xbox Live</a> or            <a data-bind="fastclick:$root.openBungieWindow(\'Psnid\')" style="text-decoration: underline;">Playstation Network</a>            <span data-bind="text: $root.activeText().login_authenticating_pt3">to retry signing in. </span>        </div>    </div></div>',
ko.templates["move-popup-template"]='<nav data-bind="with: activeItem" id="move-popup" class="navbar navbar-default navbar-fixed-bottom" style="display:none;">    <div class="container-fluid">        <div class="move-popup row no-gutter">            <div class="item-name col-xs-24">				<div class="pull-left">					<span data-bind="text: $root.activeText().movepopup_move"></span>:					<span data-bind="text: description"></span>					<!-- ko if: (bucketType == \'Consumables\' && tgd.DestinyGeneralItems[\'Glimmer Credit\'].indexOf(id) > -1) -->					<span data-bind="text: \'valued at: \' + (primaryStat() * 200) + \'G\'"></span>					<!-- /ko -->					<!-- ko if: (bucketType !== \'Consumables\' && bucketType !== \'Materials\' && bucketType !== \'Messages\' && bucketType !== \'Invisible\' && bucketType !== \'Lost Items\' && bucketType !== \'Bounties\' && bucketType !== \'Mission\') -->					<i class="fa text-info" aria-hidden="true" data-bind="css: locked() ? \'fa-lock\' : \'fa-unlock\', fastclick: function(){ toggleLock() }" style="cursor:pointer;"></i>					<!-- /ko -->				</div>				<div class="pull-right">					<span class="label label-primary"><a data-bind="fastclick: openInDestinyTracker">DTR</a></span>					<span class="label label-primary"><a data-bind="fastclick: openInDestinyDB">DDB</a></span>					<span class="label label-primary"><a data-bind="fastclick: openInArmory">Armory</a></span>                    <span class="label label-primary" data-bind="visible: perkTree.length > 0"><a data-bind="fastclick: openPerkTree">Perks</a></span>				</div>            </div>            <div class="locations col-xs-24 col-md-20 col-md-offset-2 col-lg-28 col-lg-offset-4">                <div class="locations" data-bind="foreach: { data: $root.orderedCharacters, as: \'avatar\' }">                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, fastclick: function(){ $parent.store(avatar.id) }, visible: avatar.id == \'Vault\' && $parent.character.id !== \'Vault\' && $parent.bucketType !== \'Subclasses\' && $parent.transferStatus < 2">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_vault"></div>                            <img src="about:blank" data-bind="itemImageHandler: icon">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, fastclick: function(){ $parent.store(avatar.id) }, visible: $parent.isStoreable(avatar.id)">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_store"></div>                            <img src="about:blank" data-bind="itemImageHandler: icon">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                    <div class="move-button col-xs-4" data-bind="attr: { title: avatar.uniqueName }, fastclick: function(){ $parent.equip(avatar.id) }, visible: $parent.isEquippable(avatar.id)">                        <div class="attkIcon">                            <div class="icon-banner" data-bind="text: $root.activeText().movepopup_equip"></div>                            <img src="about:blank" data-bind="itemImageHandler: icon">                            <div class="lower-left" data-bind="text: classLetter"></div>                        </div>                    </div>                </div>                <div class="move-button col-xs-4" data-bind="attr: { title: \'extras\' }, fastclick: showExtras, visible: (bucketType == \'Materials\' || bucketType == \'Consumables\')">                    <div class="attkIcon">                        <div class="icon-banner" data-bind="text: $root.activeText().movepopup_extras">extras</div>                        <img src="assets/icon128.png">                    </div>                </div>            </div>        </div>    </div></nav>',ko.templates["navbar-template"]='<nav class="navbar navbar-default navbar-fixed-top">    <div class="container-fluid">        <div class="navbar-header">            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">                <span class="sr-only">Toggle navigation</span>                <span class="icon-bar"></span>                <span class="icon-bar"></span>                <span class="icon-bar"></span>            </button>            <a class="navbar-brand" href="#" data-bind="fastclick: showWhatsNew">TGD <strong data-bind="visible: !isMobile && !isStaticBrowser"><span class="version" data-bind="text: tgd.version"></span></strong></a>            <div class="quickScrollView" data-bind="foreach: { data: $root.orderedCharacters, as: \'avatar\' }, scrollToView: false">                <div class="mobile-characters">                    <img class="mobile-characters-image" data-bind="itemImageHandler: icon, attr: {title: uniqueName}, css: id" src="about:blank">					<div class="mobile-characters-letter" data-bind="text: classLetter"></div>                </div>            </div>        </div>        <div class="collapse navbar-collapse" id="navbar-collapse">            <ul class="nav navbar-nav navbar-right">                <li class="dropdown">                    <a data-bind="fastclick: refreshButton" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-refresh text-success"></i> <span class="refresh-text" data-bind="text: $root.activeText().menu_refresh">Refresh</span></a>                </li>                <li class="dropdown">                    <a data-bind="fastclick: clearFilters" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-filter"></i> <span class="clear-filters-text" data-bind="text: $root.activeText().menu_clear">Clear Filters</span></a>                </li>                <li class="dropdown" data-bind="visible: !isStaticBrowser">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-cogs"></i> <span class="settings-text" data-bind="text: $root.activeText().menu_options">More</span> <span class="caret"></span></a>                    <ul class="dropdown-menu" role="menu">						<li><a href="#" data-bind="fastclick: showSettings"><i class="fa fa-cog"></i><span data-bind="text: $root.activeText().menu_settings">Settings</span></a></li>						<li class="divider"></li>                        <li><a href="#" data-bind="fastclick: logout"><i class="fa fa-sign-out"></i> Logout</a></li>                        <li data-bind="visible: hasBothAccounts() || (!hasBothAccounts() && preferredSystem() == \'PSN\')"><a href="#" data-bind="fastclick: openBungieWindow(\'Psnid\')"><i class="fa fa-sign-in"></i> PSN Login</a></li>                        <li data-bind="visible: hasBothAccounts() || (!hasBothAccounts() && preferredSystem() == \'XBL\')"><a href="#" data-bind="fastclick: openBungieWindow(\'Xuid\')"><i class="fa fa-sign-in"></i> Live Login</a></li>                        <li data-bind="visible: hasBothAccounts(), css: preferredSystem() == \'PSN\' ? \'active\' : \'\'"><a href="#" data-bind="fastclick: usePlaystationAccount"><i class="fa fa-gamepad"></i> <span data-bind="text: $root.activeText().menu_useps">Use Playstation Account</span></a></li>                        <li data-bind="visible: hasBothAccounts(), css: preferredSystem() == \'XBL\' ? \'active\' : \'\'"><a href="#" data-bind="fastclick: useXboxAccount"><i class="fa fa-gamepad"></i> <span data-bind="text: $root.activeText().menu_usexbox">Use Xbox Account</span></a></li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: clearFilters"><i class="fa fa-filter"></i><span data-bind="text: $root.activeText().menu_clear">Clear Filters</span></a></li>                        <li><a href="#" data-bind="fastclick: showAbout"><i class="fa fa-info"></i><span data-bind="text: $root.activeText().menu_about">About</span></a></li>                        <li><a href="#" data-bind="fastclick: showHelp"><i class="fa fa-question"></i><span data-bind="text: $root.activeText().menu_help">Help</span></a></li>                        <li><a href="#" data-bind="fastclick: showDonate"><i class="fa fa-credit-card"></i><span data-bind="text: $root.activeText().menu_donate">Donate</span></a></li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(1)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinystatus">DestinyStatus Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(2)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinytrials">DestinyTrials Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(3)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinytracker">DestinyTracker Report</span></a></li>                        <li><a href="#" data-bind="fastclick: openStatusReport(4)"><i class="fa fa-external-link"></i><span data-bind="text: $root.activeText().menu_destinyguardiangg">Guardian.GG Report</span></a></li>						<li><a href="#" data-bind="fastclick: openStatusReport(5)"><i class="fa fa-external-link"></i><span>Vendor Armor Rolls Report</span></a></li>                        <li><a href="#" data-bind="fastclick: toggleShareView"><i class="fa fa-share-alt"></i><span data-bind="text: $root.activeText().menu_shareurl">Share URL with friends</span></a></li>                    </ul>                </li>            </ul>            <form class="navbar-form navbar-right">                <input class="form-control" placeholder="Search" size="9" type="text" data-bind="value: searchKeyword">            </form>            <ul class="nav navbar-nav">                <li class="dropdown" data-bind="visible: !isStaticBrowser">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_loadouts">Loadouts</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <!-- ko foreach: { data: localLoadouts, as: \'loadout\' } -->                        <li data-bind="fastclick: setActive">                            <a data-bind="text: loadout.name" href="#"></a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>						<li data-bind="fastclick: manageLoadouts"><a href="#">							<i class="fa fa-plus"></i><span data-bind="text: $root.activeText().menu_loadouts_manage">Manage</span></a>						</li>                        <li data-bind="fastclick: createLoadout"><a href="#">							<i class="fa fa-plus"></i><span data-bind="text: $root.activeText().menu_loadouts_create">Create</span></a>						</li>                        <li data-bind="fastclick: cancelLoadout">							<a href="#"><i class="fa fa-times"></i><span data-bind="text: $root.activeText().cancel">Cancel</span></a>						</li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view">View</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="fastclick: setView" value="0">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="1">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_weapons">Weapons</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="2">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_armor">Armor</span>                            </a>                        </li>                        <li data-bind="fastclick: setView" value="3">                            <a href="#">                                <i class="fa" data-bind="css: activeView() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_general">General</span>                            </a>                        </li>						<li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_viewformat">View Format</span>                            </strong>                        </li>						<li data-bind="fastclick: setViewFormat" value="image-grid-template">                            <a href="#">                                <i class="fa" data-bind="css: sectionsTemplate() == \'image-grid-template\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_viewimagegrid">Image Grid</span>                            </a>                        </li>                        <li data-bind="fastclick: setViewFormat" value="items-list-template">                            <a href="#">                                <i class="fa" data-bind="css: sectionsTemplate() == \'items-list-template\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_viewitemlist">Items List</span>                            </a>                        </li>                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_sortby">Sort By</span>                            </strong>                        </li>                        <li data-bind="fastclick: setSort" value="0">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_type">Tier, Type, Light</span>                            </a>                        </li>						<li data-bind="fastclick: setSort" value="5">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 5 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_light">Tier, Light</span>                            </a>                        </li>						<li data-bind="fastclick: setSort" value="6">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 6 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_tier_name">Tier, Name</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="1">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_type">Type</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="2">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_lightlvl">Light Level</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="3">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_type_light">Type, Light</span>                            </a>                        </li>                        <li data-bind="fastclick: setSort" value="4">                            <a href="#">                                <i class="fa" data-bind="css: activeSort() == 4 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_sortby_name">Name</span>                            </a>                        </li>                        <li class="divider"></li>                        <li><a href="#" data-bind="fastclick: toggleViewOptions, text: $root.activeText().menu_view_options">View Options</a></li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_set">Set</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: setFilter().length == 0 ? \'active\' : \'\', fastclick: setSetFilter(\'All\')">                            <a href="#"><i class="fa" data-bind="css: setFilter().length == 0 ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <!-- ko foreach: { data: collectionSets, as: \'collection\' } -->                        <li data-bind="css: $root.setFilter() == _collections[collection] ? \'active\' : \'\', fastclick: $root.setSetFilter(collection)">                            <a href="#">                                <i class="fa" data-bind="css: $root.setFilter() == _collections[collection] ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: collection"></span>                            </a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li data-bind="css: showMissing() ? \'active\' : \'\', fastclick: toggleShowMissing">                            <a href="#"><i class="fa" data-bind="css: showMissing() ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_set_showmissing">Show Missing Items</span>								</a>                        </li>                        <li data-bind="css: showDuplicate() ? \'active\' : \'\', fastclick: toggleDuplicates">                            <a href="#"><i class="fa" data-bind="css: showDuplicate() ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: $root.activeText().menu_set_showduplicates">Show Duplicate Items</span>								</a>                        </li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_tier">Tier</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: tierFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: $root.setTierFilter.bind(0)">                            <a href="#"><i class="fa" data-bind="css: tierFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>							<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <!-- ko foreach: { data: tierTypes, as: \'tierType\' } -->                        <li data-bind="css: $parent.tierFilter() == tierType.tier ? \'active\' : \'\', fastclick: $parent.setTierFilter.bind(tierType.tier)">                            <a href="#"><i class="fa" data-bind="css: $parent.tierFilter() == tierType.tier ? \'fa-check-square\' : \'fa-square\'"></i><span data-bind="text: tierType.name"></span></a>                        </li>                        <!--/ko  -->                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_progress">Progress</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="0">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_all">All</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="1">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 1 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_1">Missing XP</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="2">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 2 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_2">Full XP</span>								</a>                        </li>                        <li data-bind="css: progressFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setProgressFilter" value="3">                            <a href="#"><i class="fa" data-bind="css: progressFilter() == 3 ? \'fa-check-square\' : \'fa-square\'"></i>																	<span data-bind="text: $root.activeText().menu_progress_3">Maxed</span>								</a>                        </li>                    </ul>                </li>                <li class="dropdown">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="html: $root.activeText().menu_damage">Damage</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu" data-bind="foreach: { data: _.values(tgd.DestinyDamageTypes).splice(1,4), as: \'dmgType\' }">					                        <li data-bind="css: $parent.dmgFilter().indexOf(dmgType) > -1 ? \'active\' : \'\', fastclick: $parent.setDmgFilter.bind(dmgType)">                            <a href="#">								<i class="fa" data-bind="css: $parent.dmgFilter().indexOf(dmgType) > -1 ? \'fa-check-square\' : \'fa-square\'"></i>								<img class="icon" data-bind="attr: { src: \'assets/\' + dmgType.toLowerCase() + \'.png\' }">								<span data-bind="text: dmgType"></span>							</a>                        </li>                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 1)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_weapons">Weapons</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: weaponFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setWeaponFilter({ name: 0 })">                            <a href="#">                                <i class="fa" data-bind="css: weaponFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: weaponTypes, as: \'weaponType\' } -->                        <li data-bind="css: $parent.weaponFilter() == weaponType.name ? \'active\' : \'\', fastclick: $parent.setWeaponFilter(weaponType)">                            <a href="#"><i class="fa" data-bind="css: $parent.weaponFilter() == weaponType.name ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: weaponType.name">All</span>								</a>                        </li>                        <!--/ko  -->                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 2)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_armor">Armor</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: armorFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setArmorFilter(0)">                            <a href="#">                                <i class="fa" data-bind="css: armorFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: tgd.DestinyArmorPieces, as: \'armorType\' } -->                        <li data-bind="css: $parent.armorFilter() == armorType ? \'active\' : \'\', fastclick: $parent.setArmorFilter(armorType)">                            <a href="#"><i class="fa" data-bind="css: $parent.armorFilter() == armorType ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: armorType"></span>								</a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_filter_by">Filter By</span>                            </strong>                        </li>                        <li data-bind="css: showArmorPerks() ? \'active\' : \'\', fastclick: toggleArmorPerks">                            <a href="#">                                <i class="fa" data-bind="css: showArmorPerks() ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_filter_by_weapon_eq">Weapons Equipped</span>                            </a>                        </li>                        <li data-bind="css: showArmorSC() ? \'active\' : \'\', fastclick: toggleArmorSC">                            <a href="#">                                <i class="fa" data-bind="css: showArmorSC() ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_filter_by_subclass_eq">Subclass Equipped</span>                            </a>                        </li>						<!-- ko foreach: { data: tgd.DestinyArmorStats, as: \'armorStat\' } -->							<li data-bind="css: $parent.showArmorStat(armorStat.statName) ? \'active\' : \'\', fastclick: $parent.toggleArmorStat.bind(armorStat.statName)">								<a href="#">									<i class="fa" data-bind="css: $parent.showArmorStat(armorStat.statName) ? \'fa-check-square\' : \'fa-square\'"></i>									Skill: <span data-bind="text: armorStat.statName"></span>								</a>							</li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_filter_for_class">Filter for Class</span>                            </strong>                        </li>                        <!-- ko foreach: { data: _.values(tgd.DestinyClass), as: \'classType\' } -->                        <li data-bind="css: $parent.showArmorClass(classType) ? \'active\' : \'\', fastclick: $parent.toggleArmorClass.bind(classType)">                            <a href="#">                                <i class="fa" data-bind="css: $parent.showArmorClass(classType) ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: classType"></span>                            </a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span data-bind="text: $root.activeText().menu_view_by">View By</span>                            </strong>                        </li>                        <li data-bind="css: armorViewBy() == \'Light\' ? \'active\' : \'\', fastclick: setArmorView.bind(\'Light\')">                            <a href="#">                                <i class="fa" data-bind="css: armorViewBy() == \'Light\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_by_lightlvl">Light Level</span>                            </a>                        </li>                       <li data-bind="css: armorViewBy() == \'CSP\' ? \'active\' : \'\', fastclick: setArmorView.bind(\'CSP\')">                            <a href="#">                                <i class="fa" data-bind="css: armorViewBy() == \'CSP\' ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_view_by_stat_points">Combined Stat Points</span>                            </a>                        </li>                    </ul>                </li>                <li class="dropdown" data-bind="visible: (activeView() == 0 || activeView() == 3)">                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">                        <span data-bind="text: $root.activeText().menu_view_general">General</span>                        <span class="caret"></span>                    </a>                    <ul class="dropdown-menu" role="menu">                        <li data-bind="css: generalFilter() == $($element).attr(\'value\') ? \'active\' : \'\', fastclick: setGeneralFilter.bind(0)">                            <a href="#">                                <i class="fa" data-bind="css: generalFilter() == 0 ? \'fa-check-square\' : \'fa-square\'"></i>                                <span data-bind="text: $root.activeText().menu_all">All</span>                            </a>                        </li>                        <!-- ko foreach: { data: tgd.DestinyGeneralSearches, as: \'searchType\' } -->                        <li data-bind="css: $parent.generalFilter() == searchType ? \'active\' : \'\', fastclick: $parent.setGeneralFilter.bind(searchType)">                            <a href="#"><i class="fa" data-bind="css: $parent.generalFilter() == searchType ? \'fa-check-square\' : \'fa-square\'"></i>									<span data-bind="text: searchType"></span>								</a>                        </li>                        <!--/ko  -->                        <li class="divider"></li>                        <li>                            <strong style="padding-left: 10px;">                                <span>Item Locked State</span>                            </strong>                        </li>                        <li data-bind="css: lockedState() == \'locked\' ? \'active\' : \'\', fastclick: setLockState.bind(\'locked\')">                            <a href="#">                                <i class="fa" data-bind="css: lockedState() == \'locked\' ? \'fa-check-square\' : \'fa-square\'"></i>                                Locked                            </a>                        </li>                       <li data-bind="css: lockedState() == \'unlocked\' ? \'active\' : \'\', fastclick: setLockState.bind(\'unlocked\')">                            <a href="#">                                <i class="fa" data-bind="css: lockedState() == \'unlocked\' ? \'fa-check-square\' : \'fa-square\'"></i>                                Unlocked                            </a>                        </li>                    </ul>                </li>            </ul>        </div>    </div></nav>',
ko.templates["viewoptions-template"]='<div class="container well bs-component" style="display:none;" data-bind="if: viewOptionsEnabled, visible: viewOptionsEnabled">    <div class="container-fluid">        <form class="form-horizontal">            <fieldset>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_container_width">Container Width</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'\' ? \'btn-active\': \'btn-default\'" href="#">Default</a>                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'60%\' ? \'btn-active\': \'btn-default\'" href="#">60%</a>                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'70%\' ? \'btn-active\': \'btn-default\'" href="#">70%</a>                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'80%\' ? \'btn-active\': \'btn-default\'" href="#">80%</a>                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'90%\' ? \'btn-active\': \'btn-default\'" href="#">90%</a>                            <a class="btn" data-bind="fastclick: setCCWidth, css: ccWidth() == \'100%\' ? \'btn-active\': \'btn-default\'" href="#">100%</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_layout_mode">Vault Mode</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <div class="radio">                                <label>                                    <input name="layoutMode" value="even" type="radio" data-bind="checked: layoutMode">                                    <span data-bind="text: $root.activeText().vo_layout_mode_def"> Default</span>                                </label>                            </div>                            <div class="radio">                                <label>                                    <input name="layoutMode" value="uneven" type="radio" data-bind="checked: layoutMode">                                    <span data-bind="text: $root.activeText().vo_layout_mode_cust"> Custom</span>                                </label>                            </div>                        </div>                    </div>                </div>                <div class="form-group" data-bind="visible: layoutMode() == \'even\'">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_number_of_columns"># of Columns</label>                    <div class="col-xs-24 col-sm-18">                        <div class="row">                            <div class="col-xs-2">XS</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="fastclick: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="2" data-bind="fastclick: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="3" data-bind="fastclick: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                                <input type="Button" class="btn" value="4" data-bind="fastclick: setColumns.bind(\'xs\', $element), css: btnActive(\'xs\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">SM</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="fastclick: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="2" data-bind="fastclick: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="3" data-bind="fastclick: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                                <input type="Button" class="btn" value="4" data-bind="fastclick: setColumns.bind(\'sm\', $element), css: btnActive(\'sm\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">MD</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="fastclick: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="2" data-bind="fastclick: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="3" data-bind="fastclick: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                                <input type="Button" class="btn" value="4" data-bind="fastclick: setColumns.bind(\'md\', $element), css: btnActive(\'md\', $element)">                            </div>                        </div>                        <div class="row">                            <div class="col-xs-2">LG</div>                            <div class="btn-group col-xs-22">                                <input type="Button" class="btn" value="1" data-bind="fastclick: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="2" data-bind="fastclick: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="3" data-bind="fastclick: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                                <input type="Button" class="btn" value="4" data-bind="fastclick: setColumns.bind(\'lg\', $element), css: btnActive(\'lg\', $element)">                            </div>                        </div>                    </div>                </div>                <div class="form-group" data-bind="visible: layoutMode() == \'uneven\'">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_width">Vault Width</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(6), css: vaultWidth() == \'6\' ? \'btn-active\': \'btn-default\'" href="#">Default (25%)</a>                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(7), css: vaultWidth() == \'7\' ? \'btn-active\': \'btn-default\'" href="#">30%</a>                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(8), css: vaultWidth() == \'8\' ? \'btn-active\': \'btn-default\'" href="#">33%</a>                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(9), css: vaultWidth() == \'9\' ? \'btn-active\': \'btn-default\'" href="#">37%</a>                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(10), css: vaultWidth() == \'10\' ? \'btn-active\': \'btn-default\'" href="#">42%</a>                            <a class="btn" data-bind="fastclick: setVaultWidth.bind(12), css: vaultWidth() == \'12\' ? \'btn-active\': \'btn-default\'" href="#">50%</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_columns">Vault Columns</label>                    <div class="col-xs-24 col-sm-18">                        <div class="btn-group">                            <a class="btn" data-bind="fastclick: setVaultColumns.bind(2), css: vaultColumns() == \'2\' ? \'btn-active\': \'btn-default\'" href="#">12</a>                            <a class="btn" data-bind="fastclick: setVaultColumns.bind(3), css: vaultColumns() == \'3\' ? \'btn-active\': \'btn-default\'" href="#">8</a>                            <a class="btn" data-bind="fastclick: setVaultColumns.bind(4), css: vaultColumns() == \'4\' ? \'btn-active\': \'btn-default\'" href="#">6</a>                            <a class="btn" data-bind="fastclick: setVaultColumns.bind(6), css: vaultColumns() == \'6\' ? \'btn-active\': \'btn-default\'" href="#">4</a>                        </div>                    </div>                </div>                <div class="form-group">                    <label class="col-xs-24 col-sm-6 control-label" data-bind="text: $root.activeText().vo_vault_position">Vault Position</label>                    <div class="col-xs-24 col-sm-18">                        <label>                            <input type="Checkbox" data-bind="checked: isVaultAt(0), fastclick: setVaultTo.bind(0)">                            <span data-bind="text: $root.activeText().vo_vault_first">First/Left</span>                        </label>                        <label>                            <input type="Checkbox" data-bind="checked: isVaultAt($root.characters().length), fastclick: setVaultTo.bind($root.characters().length)">                            <span data-bind="text: $root.activeText().vo_vault_last">Last/Right</span>                        </label>                    </div>                </div>                <div class="form-group">                    <input type="button" class="btn pull-right" value="x" data-bind="fastclick: toggleViewOptions" style="position:relative;">                </div>            </fieldset>        </form>    </div></div>';
//# sourceMappingURL=2.templates.js.map